var __extends = this && this.__extends || function (e, t) {
        function n() {
            this.constructor = e
        }
        for (var i in t) t.hasOwnProperty(i) && (e[i] = t[i]);
        e.prototype = null === t ? Object.create(t) : (n.prototype = t.prototype, new n)
    },
    annie;
! function (e) {
    var t = function () {
        function e() {
            this._instanceId = 0, this._instanceType = "AObject", this._instanceId = e._object_id++
        }
        return Object.defineProperty(e.prototype, "instanceId", {
            get: function () {
                return this._instanceId
            }, enumerable: !0,
            configurable: !0
        }), Object.defineProperty(e.prototype, "instanceType", {
            get: function () {
                return this._instanceType
            }, enumerable: !0,
            configurable: !0
        }), e._object_id = 0, e
    }();
    e.AObject = t;
    var n = function (t) {
        function n() {
            t.call(this), this.eventTypes = null, this._instanceType = "annie.EventDispatcher", this.eventTypes = {}
        }
        return __extends(n, t), n.getMouseEventCount = function (e) {
            void 0 === e && (e = "");
            var t = 0;
            if ("" == e)
                for (var i in n._MECO) 0 == i.indexOf("onMouse") && (t += n._MECO[i]);
            else n._MECO[e] && (t = n._MECO[e]);
            return t
        }, n.prototype.addEventListener = function (e, t) {
            if (!e) throw new Error("添加侦听的type值为undefined");
            if (!t) throw new Error("侦听回调函数不能为null");
            var n = this;
            n.eventTypes[e] || (n.eventTypes[e] = []), n.eventTypes[e].indexOf(t) < 0 && (n.eventTypes[e].unshift(t), 0 == e.indexOf("onMouse") && n._changeMouseCount(e, !0))
        }, n.prototype._changeMouseCount = function (e, t) {
            var i = t ? 1 : -1;
            n._MECO[e] || (n._MECO[e] = 0), n._MECO[e] += i, n._MECO[e] < 0 && (n._MECO[e] = 0), n._totalMEC += i
        }, n.prototype.dispatchEvent = function (t, n) {
            void 0 === n && (n = null);
            var i = this;
            "string" == typeof t && (t = new e.Event(t));
            var a = i.eventTypes[t.type];
            if (a) {
                var r = a.length;
                null == t.target && (t.target = i), null != n && (t.data = n);
                for (var o = r - 1; o >= 0; o--) a[o] ? a[o](t) : a.splice(o, 1);
                return !0
            }
            return !1
        }, n.prototype.hasEventListener = function (e) {
            return !!(this.eventTypes[e] && this.eventTypes[e].length > 0)
        }, n.prototype.removeEventListener = function (e, t) {
            var n = this,
                i = n.eventTypes[e];
            if (i)
                for (var a = i.length, r = a - 1; r >= 0; r--) i[r] === t && (i.splice(r, 1), 0 == e.indexOf("onMouse") && n._changeMouseCount(e, !1))
        }, n.prototype.removeAllEventListener = function () {
            var e = this;
            for (var t in e.eventTypes)
                if (0 == t.indexOf("onMouse"))
                    for (var n = 0; n < e.eventTypes[t].length; n++) e._changeMouseCount(t, !1);
            e.eventTypes = {}
        }, n._MECO = {}, n._totalMEC = 0, n
    }(t);
    e.EventDispatcher = n
}(annie || (annie = {}));
var annie;
! function (e) {
    var t = function (e) {
        function t(t) {
            e.call(this), this.type = "", this.target = null, this.data = null, this._pd = !1, this._instanceType = "annie.Event", this.type = t
        }
        return __extends(t, e), t.prototype.preventDefault = function () {
            this._pd = !0
        }, t.RESIZE = "onResize", t.ON_PLAY_UPDATE = "onPlayUpdate", t.ON_PLAY_END = "onPlayEnd", t.ON_PLAY_START = "onPlayStart", t.ON_FLIP_START = "onFlipStart", t.ON_FLIP_End = "onFlipEnd", t.ON_SCROLL_TO_START = "onScrollToStart", t.ON_SCROLL_TO_END = "onScrollToEnd", t.ON_SLIDE_START = "onSlideStart", t.ON_SLIDE_END = "onSlideEnd", t.INIT_TO_STAGE = "onInitStage", t.ADD_TO_STAGE = "onAddToStage", t.REMOVE_TO_STAGE = "onRemoveToStage", t.ENTER_FRAME = "onEnterFrame", t.END_FRAME = "onEndFrame", t.CALL_FRAME = "onCallFrame", t.COMPLETE = "onComplete", t.PROGRESS = "onProgress", t.ERROR = "onError", t.ABORT = "onAbort", t.START = "onStart", t.TIMER = "onTimer", t.TIMER_COMPLETE = "onTimerComplete", t
    }(e.AObject);
    e.Event = t
}(annie || (annie = {}));
var annie;
! function (e) {
    var t = function (e) {
        function t(t) {
            e.call(this, t), this.clientX = 0, this.clientY = 0, this.stageX = 0, this.stageY = 0, this.localX = 0, this.localY = 0, this.currentTarget = null, this._instanceType = "annie.MouseEvent"
        }
        return __extends(t, e), t.prototype.updateAfterEvent = function () {
            this.target.stage._uae = !0
        }, t.MOUSE_DOWN = "onMouseDown", t.MOUSE_UP = "onMouseUp", t.CLICK = "onMouseClick", t.MOUSE_MOVE = "onMouseMove", t.MOUSE_OVER = "onMouseOver", t.MOUSE_OUT = "onMouseOut", t
    }(e.Event);
    e.MouseEvent = t
}(annie || (annie = {}));
var annie;
! function (e) {
    var t = function (t) {
        function n(n) {
            t.call(this, n), this.clientPoint1 = new e.Point, this.clientPoint2 = new e.Point, this.scale = 0, this.rotate = 0, this._instanceType = "annie.TouchEvent"
        }
        return __extends(n, t), n.prototype.updateAfterEvent = function () {
            this.target.stage._uae = !0
        }, n.ON_MULTI_TOUCH = "onMultiTouch", n
    }(e.Event);
    e.TouchEvent = t
}(annie || (annie = {}));
var annie;
! function (e) {
    var t = function (e) {
        function t(t, n) {
            void 0 === t && (t = 0), void 0 === n && (n = 0), e.call(this), this.x = 0, this.y = 0;
            var i = this;
            i._instanceType = "annie.Point", i.x = t, i.y = n
        }
        return __extends(t, e), t.distance = function () {
            for (var e = [], t = 0; t < arguments.length; t++) e[t - 0] = arguments[t];
            var n = e.length;
            return 4 == n ? Math.sqrt((e[0] - e[2]) * (e[0] - e[2]) + (e[1] - e[3]) * (e[1] - e[3])) : 2 == n ? Math.sqrt((e[0].x - e[1].x) * (e[0].x - e[1].x) + (e[0].y - e[1].y) * (e[0].y - e[1].y)) : void 0
        }, t
    }(e.AObject);
    e.Point = t
}(annie || (annie = {}));
var annie;
! function (e) {
    function t(e) {
        switch (e) {
        case a:
        case -r:
            return 0;
        case i:
        case -i:
            return -1;
        case r:
        case -a:
            return 0;
        default:
            return Math.cos(e)
        }
    }

    function n(e) {
        switch (e) {
        case a:
        case -r:
            return 1;
        case i:
        case -i:
            return 0;
        case r:
        case -a:
            return -1;
        default:
            return Math.sin(e)
        }
    }
    var i = Math.PI,
        a = i >> 1,
        r = i + a,
        o = Math.PI / 180,
        s = function (i) {
            function a(t, n, a, r, o, s) {
                void 0 === t && (t = 1), void 0 === n && (n = 0), void 0 === a && (a = 0), void 0 === r && (r = 1), void 0 === o && (o = 0), void 0 === s && (s = 0), i.call(this), this.a = 1, this.b = 0, this.c = 0, this.d = 1, this.tx = 0, this.ty = 0, this.transformPoint = function (t, n, i) {
                    void 0 === i && (i = null);
                    var a = this;
                    return i || (i = new e.Point), i.x = t * a.a + n * a.c + a.tx, i.y = t * a.b + n * a.d + a.ty, i
                }, this.prepend = function (e) {
                    var t = this,
                        n = e.a,
                        i = e.b,
                        a = e.c,
                        r = e.d,
                        o = e.tx,
                        s = e.ty,
                        l = t.a,
                        c = t.c,
                        u = t.tx;
                    t.a = n * l + a * t.b, t.b = i * l + r * t.b, t.c = n * c + a * t.d, t.d = i * c + r * t.d, t.tx = n * u + a * t.ty + o, t.ty = i * u + r * t.ty + s
                };
                var l = this;
                l._instanceType = "annie.Matrix", l.a = t, l.b = n, l.c = a, l.d = r, l.tx = o, l.ty = s
            }
            return __extends(a, i), a.prototype.clone = function () {
                var e = this;
                return new a(e.a, e.b, e.c, e.d, e.tx, e.ty)
            }, a.prototype.setFrom = function (e) {
                var t = this;
                t.a = e.a, t.b = e.b, t.c = e.c, t.d = e.d, t.tx = e.tx, t.ty = e.ty
            }, a.prototype.identity = function () {
                var e = this;
                e.a = e.d = 1, e.b = e.c = e.tx = e.ty = 0
            }, a.prototype.invert = function () {
                var e = this,
                    t = new a(e.a, e.b, e.c, e.d, e.tx, e.ty),
                    n = e.a,
                    i = e.b,
                    r = e.c,
                    o = e.d,
                    s = e.tx,
                    l = e.ty;
                if (0 == i && 0 == r) return 0 == n || 0 == o ? t.a = t.d = t.tx = t.ty = 0 : (n = t.a = 1 / n, o = t.d = 1 / o, t.tx = -n * s, t.ty = -o * l), t;
                var c = n * o - i * r;
                if (0 == c) return t.identity(), t;
                c = 1 / c;
                var u = t.a = o * c;
                return i = t.b = -i * c, r = t.c = -r * c, o = t.d = n * c, t.tx = -(u * s + r * l), t.ty = -(i * s + o * l), t
            }, a.prototype.createBox = function (e, i, a, r, s, l, c, u, d) {
                var h = this;
                if (0 != s ? l = c = s % 360 : (l %= 360, c %= 360), 0 == l && 0 == c) h.a = a, h.b = h.c = 0, h.d = r;
                else {
                    l *= o, c *= o;
                    var p = t(l),
                        f = n(l);
                    l == c ? (h.a = p * a, h.b = f * a) : (h.a = t(c) * a, h.b = n(c) * a), h.c = -f * r, h.d = p * r
                }
                h.tx = e + u - (u * h.a + d * h.c), h.ty = i + d - (u * h.b + d * h.d)
            }, a.isEqual = function (e, t) {
                return e.tx == t.tx && e.ty == t.ty && e.a == t.a && e.b == t.b && e.c == t.c && e.d == t.d
            }, a.prototype.concat = function (e) {
                var t = this,
                    n = t.a,
                    i = t.b,
                    a = t.c,
                    r = t.d,
                    o = t.tx,
                    s = t.ty,
                    l = e.a,
                    c = e.b,
                    u = e.c,
                    d = e.d,
                    h = e.tx,
                    p = e.ty;
                t.a = n * l + i * u, t.b = n * c + i * d, t.c = a * l + r * u, t.d = a * c + r * d, t.tx = o * l + s * u + h, t.ty = o * c + s * d + p
            }, a.prototype.rotate = function (e) {
                var t = this,
                    n = Math.sin(e),
                    i = Math.cos(e),
                    a = t.a,
                    r = t.b,
                    o = t.c,
                    s = t.d,
                    l = t.tx,
                    c = t.ty;
                t.a = a * i - r * n, t.b = a * n + r * i, t.c = o * i - s * n, t.d = o * n + s * i, t.tx = l * i - c * n, t.ty = l * n + c * i
            }, a.prototype.scale = function (e, t) {
                var n = this;
                n.a *= e, n.d *= t, n.c *= e, n.b *= t, n.tx *= e, n.ty *= t
            }, a.prototype.translate = function (e, t) {
                var n = this;
                n.tx += e, n.ty += t
            }, a
        }(e.AObject);
    e.Matrix = s
}(annie || (annie = {}));
var annie;
! function (e) {
    var t = function (e) {
        function t(t, n, i, a) {
            void 0 === t && (t = 0), void 0 === n && (n = 0), void 0 === i && (i = 0), void 0 === a && (a = 0), e.call(this), this.x = 0, this.y = 0, this.width = 0, this.height = 0;
            var r = this;
            r._instanceType = "annie.Rectangle", r.x = t, r.y = n, r.height = a, r.width = i
        }
        return __extends(t, e), t.prototype.isPointIn = function (e) {
            var t = this;
            return e.x >= t.x && e.x <= t.x + t.width && e.y >= t.y && e.y <= t.y + t.height
        }, t.createFromRects = function (e) {
            for (var n = [], i = 1; i < arguments.length; i++) n[i - 1] = arguments[i];
            for (var a, r, o, s, l = e.x, c = e.y, u = e.width, d = e.height, h = 0; h < n.length; h++) null != n[h] && (a = l + u, o = c + d, r = n[h].x + n[h].width, s = n[h].y + n[h].height, l > n[h].x && (l = n[h].x), c > n[h].y && (c = n[h].y), r > a && (a = r), s > o && (o = s));
            return new t(l, c, a - l, o - c)
        }, t.createFromPoints = function (e) {
            for (var n = [], i = 1; i < arguments.length; i++) n[i - 1] = arguments[i];
            for (var a = e.x, r = e.y, o = e.x, s = e.y, l = 0; l < n.length; l++) null != n[l] && (a > n[l].x && (a = n[l].x), r > n[l].y && (a = n[l].y), o < n[l].x && (o = n[l].x), s < n[l].y && (s = n[l].y));
            return new t(a, r, o - a, s - r)
        }, t.createRectform2Point = function (e, t, n) {
            var i = t.x,
                a = t.y,
                r = t.x,
                o = t.y;
            i > n.x && (i = n.x), a > n.y && (i = n.y), r < n.x && (r = n.x), o < n.y && (o = n.y), e.x = i, e.y = a, e.width = r - i, e.height = o - a
        }, t.testRectCross = function (e, t) {
            var n, i, a, r;
            return n = e.x + e.width / 2, i = e.y + e.height / 2, a = t.x + t.width / 2, r = t.y + t.height / 2, Math.abs(n - a) <= e.width / 2 + t.width / 2 && Math.abs(i - r) <= e.height / 2 + t.height / 2
        }, t
    }(e.AObject);
    e.Rectangle = t
}(annie || (annie = {}));
var annie;
! function (e) {
    var t = function (t) {
        function n() {
            t.call(this), this._updateInfo = {
                UM: !1,
                UA: !1,
                UF: !1
            }, this.stage = null, this.cAlpha = 1, this.cMatrix = new e.Matrix, this._enterFrameEvent = null, this.mouseEnable = !0, this.cFilters = [], this.name = "", this._x = 0, this._y = 0, this._scaleX = 1, this._scaleY = 1, this._rotation = 0, this._alpha = 1, this._skewX = 0, this._skewY = 0, this._anchorX = 0, this._anchorY = 0, this._visible = !0, this.blendMode = "normal", this._matrix = new e.Matrix, this.mask = null, this._filters = [], this.parent = null, this._cp = !0, this._cacheImg = null, this._cacheX = 0, this._cacheY = 0, this._bounds = new e.Rectangle, this._drawRect = new e.Rectangle, this._isNeedUpdate = !0, this._instanceType = "annie.DisplayObject"
        }
        return __extends(n, t), Object.defineProperty(n.prototype, "x", {
            get: function () {
                return this._x
            }, set: function (e) {
                this._setProperty("_x", e, 0)
            }, enumerable: !0,
            configurable: !0
        }), Object.defineProperty(n.prototype, "y", {
            get: function () {
                return this._y
            }, set: function (e) {
                this._setProperty("_y", e, 0)
            }, enumerable: !0,
            configurable: !0
        }), Object.defineProperty(n.prototype, "scaleX", {
            get: function () {
                return this._scaleX
            }, set: function (e) {
                this._setProperty("_scaleX", e, 0)
            }, enumerable: !0,
            configurable: !0
        }), Object.defineProperty(n.prototype, "scaleY", {
            get: function () {
                return this._scaleY
            }, set: function (e) {
                this._setProperty("_scaleY", e, 0)
            }, enumerable: !0,
            configurable: !0
        }), Object.defineProperty(n.prototype, "rotation", {
            get: function () {
                return this._rotation
            }, set: function (e) {
                this._setProperty("_rotation", e, 0)
            }, enumerable: !0,
            configurable: !0
        }), Object.defineProperty(n.prototype, "alpha", {
            get: function () {
                return this._alpha
            }, set: function (e) {
                this._setProperty("_alpha", e, 1)
            }, enumerable: !0,
            configurable: !0
        }), Object.defineProperty(n.prototype, "skewX", {
            get: function () {
                return this._skewX
            }, set: function (e) {
                this._setProperty("_skewX", e, 0)
            }, enumerable: !0,
            configurable: !0
        }), Object.defineProperty(n.prototype, "skewY", {
            get: function () {
                return this._skewY
            }, set: function (e) {
                this._setProperty("_skewY", e, 0)
            }, enumerable: !0,
            configurable: !0
        }), Object.defineProperty(n.prototype, "anchorX", {
            get: function () {
                return this._anchorX
            }, set: function (e) {
                this._setProperty("_anchorX", e, 0)
            }, enumerable: !0,
            configurable: !0
        }), Object.defineProperty(n.prototype, "anchorY", {
            get: function () {
                return this._anchorY
            }, set: function (e) {
                this._setProperty("_anchorY", e, 0)
            }, enumerable: !0,
            configurable: !0
        }), Object.defineProperty(n.prototype, "visible", {
            get: function () {
                return this._visible
            }, set: function (e) {
                this._setProperty("_visible", e, 0)
            }, enumerable: !0,
            configurable: !0
        }), Object.defineProperty(n.prototype, "matrix", {
            get: function () {
                return this._matrix
            }, enumerable: !0,
            configurable: !0
        }), Object.defineProperty(n.prototype, "filters", {
            get: function () {
                return this._filters
            }, set: function (e) {
                this._setProperty("_filters", e, 2)
            }, enumerable: !0,
            configurable: !0
        }), n.prototype.globalToLocal = function (e, t) {
            return void 0 === t && (t = null), this.cMatrix.invert().transformPoint(e.x, e.y, t)
        }, n.prototype.localToGlobal = function (e, t) {
            return void 0 === t && (t = null), this.cMatrix.transformPoint(e.x, e.y, t)
        }, n.prototype.hitTestPoint = function (e, t) {
            void 0 === t && (t = !1);
            var i = this;
            return i.visible ? t && !i.mouseEnable ? null : i.getBounds().isPointIn(i.globalToLocal(e, n._bp)) ? i : null : null
        }, n.prototype.getDrawRect = function () {
            var t = this,
                n = t.getBounds(),
                i = t.matrix.transformPoint(n.x, n.y),
                a = t.matrix.transformPoint(n.x + n.width, n.y + n.height);
            return e.Rectangle.createRectform2Point(t._drawRect, i, a), t._drawRect
        }, n.prototype.update = function (t, n, i) {
            var a = this;
            a.hasEventListener("onEnterFrame") && (a._enterFrameEvent || (a._enterFrameEvent = new e.Event("onEnterFrame")), a.dispatchEvent(a._enterFrameEvent));
            var r = a._updateInfo;
            if (a._cp && (r.UM = r.UA = r.UF = !0, a._cp = !1), r.UM && a._matrix.createBox(a._x, a._y, a._scaleX, a._scaleY, a._rotation, a._skewX, a._skewY, a._anchorX, a._anchorY), (t || r.UM) && (a.cMatrix.setFrom(a._matrix), a.parent && a.cMatrix.prepend(a.parent.cMatrix)), (n || r.UA) && (a.cAlpha = a._alpha, a.parent && (a.cAlpha *= a.parent.cAlpha)), i || r.UF) {
                a.cFilters.length = 0;
                var o = a._filters;
                if (o)
                    for (var s = o.length, l = 0; s > l; l++) a.cFilters.push(o[l]);
                if (a.parent && a.parent.cFilters.length > 0)
                    for (var s = a.parent.cFilters.length, c = a.parent.cFilters, l = s - 1; l >= 0; l--) a.cFilters.unshift(c[l])
            }
        }, n.prototype._onDispatchBubbledEvent = function (e, t) {
            void 0 === t && (t = !1);
            var n = this;
            n.stage = n.parent.stage, n.dispatchEvent(e), "onRemoveToStage" == e && (n.stage = null)
        }, Object.defineProperty(n.prototype, "width", {
            get: function () {
                return this.getWH().width
            }, set: function (e) {
                var t = this,
                    n = t.width;
                if (0 != e) {
                    var i = e / n;
                    t.scaleX *= i
                }
            }, enumerable: !0,
            configurable: !0
        }), Object.defineProperty(n.prototype, "height", {
            get: function () {
                return this.getWH().height
            }, set: function (e) {
                var t = this,
                    n = t.height;
                if (0 != e) {
                    var i = e / n;
                    t.scaleY *= i
                }
            }, enumerable: !0,
            configurable: !0
        }), n.prototype.getWH = function () {
            var e = this;
            "annie.MovieClip" == e._instanceType && (e.update(!1, !1, !1), e._updateInfo.UM = !0);
            var t = e.getDrawRect();
            return {
                width: t.width,
                height: t.height
            }
        }, n.prototype._setProperty = function (e, t, n) {
            var i = this;
            if (i[e] != t) {
                i[e] = t;
                var a = i._updateInfo;
                0 == n ? a.UM = !0 : 1 == n ? a.UA = !0 : 2 == n ? a.UF = !0 : 3 == n ? i._isNeedUpdate = !0 : 4 == n && (i._cp = !0)
            }
        }, n._bp = new e.Point, n._canvas = window.document.createElement("canvas"), n
    }(e.EventDispatcher);
    e.DisplayObject = t
}(annie || (annie = {}));
var annie;
! function (e) {
    var t = function (t) {
        function n(e, n) {
            void 0 === e && (e = null), void 0 === n && (n = null), t.call(this), this._bitmapData = null, this._realCacheImg = null, this.rect = null, this._isCache = !1, this.hitTestWidthPixel = !1;
            var i = this;
            i._instanceType = "annie.Bitmap", i.rect = n, i.bitmapData = e
        }
        return __extends(n, t), Object.defineProperty(n.prototype, "bitmapData", {
            get: function () {
                return this._bitmapData
            }, set: function (e) {
                var t = this;
                t._setProperty("_bitmapData", e, 3), e ? (t._bounds.width = t.rect ? t.rect.width : e.width, t._bounds.height = t.rect ? t.rect.height : e.height) : t._bounds.width = t._bounds.height = 0
            }, enumerable: !0,
            configurable: !0
        }), n.prototype.render = function (e) {
            var t = this;
            e.draw(t, 0)
        }, n.prototype.update = function (n, i, a) {
            var r = this;
            t.prototype.update.call(this, n, i, a);
            var o = r._bitmapData;
            if ((r._isNeedUpdate || a || r._updateInfo.UF) && o) {
                if (r._isNeedUpdate = !1, r.cFilters.length > 0) {
                    r._realCacheImg || (r._realCacheImg = window.document.createElement("canvas"));
                    var s = r._realCacheImg,
                        l = r.rect,
                        c = l ? l.width : o.width,
                        u = l ? l.height : o.height,
                        d = c + 20,
                        h = u + 20;
                    s.width = d, s.height = h, s.style.width = d / e.devicePixelRatio + "px", s.style.height = h / e.devicePixelRatio + "px";
                    var p = s.getContext("2d");
                    p.clearRect(0, 0, d, h), p.translate(10, 10), p.shadowBlur = 0, p.shadowColor = "#0", p.shadowOffsetX = 0, p.shadowOffsetY = 0;
                    for (var f = r.cFilters, _ = f.length, v = 0; _ > v; v++)
                        if ("Shadow" == r.cFilters[v].type) {
                            p.shadowBlur = f[v].blur, p.shadowColor = f[v].color, p.shadowOffsetX = f[v].offsetX, p.shadowOffsetY = f[v].offsetY;
                            break
                        }
                    l ? p.drawImage(r._bitmapData, l.x, l.y, c, u, 0, 0, c, u) : p.drawImage(r._bitmapData, 0, 0);
                    for (var m = r.cFilters.length, y = p.getImageData(0, 0, d, h), v = 0; m > v; v++) {
                        var g = r.cFilters[v];
                        g.drawFilter(y)
                    }
                    p.putImageData(y, 0, 0), r._cacheImg = r._realCacheImg, r._cacheX = -10, r._cacheY = -10, r._isCache = !0
                } else r._isCache = !1, r._cacheX = 0, r._cacheY = 0, r._cacheImg = o;
                var b = void 0,
                    x = void 0;
                r.rect ? (b = r.rect.width, x = r.rect.height) : (b = r._cacheImg.width + 2 * r._cacheX, x = r._cacheImg.height + 2 * r._cacheY), r._bounds.width = b, r._bounds.height = x
            }
            r._updateInfo.UF = !1, r._updateInfo.UM = !1, r._updateInfo.UA = !1
        }, n.prototype.getBounds = function () {
            return this._bounds
        }, n.convertToImage = function (e, t) {
            if (void 0 === t && (t = !0), e.rect) {
                var n = window.document.createElement("canvas"),
                    i = e.rect.width,
                    a = e.rect.height;
                n.width = i, n.height = a;
                var r = n.getContext("2d"),
                    o = e.rect;
                if (r.drawImage(e.bitmapData, o.x, o.y, i, a, 0, 0, i, a), t) {
                    var s = new Image;
                    return s.src = n.toDataURL(), s
                }
                return n
            }
            return e.bitmapData
        }, n.prototype.hitTestPoint = function (t, n) {
            void 0 === n && (n = !1);
            var i = this;
            if (n && !i.mouseEnable) return null;
            var a = i.globalToLocal(t);
            if (a.x += i._cacheX, a.y += i._cacheY, i.getBounds().isPointIn(a)) {
                if (!i.hitTestWidthPixel) return i;
                var r = i._cacheImg;
                if (!r || 0 == r.width || 0 == r.height) return null;
                var o = e.DisplayObject._canvas;
                o.width = 1, o.height = 1;
                var s = o.getContext("2d");
                if (s.clearRect(0, 0, 1, 1), i.rect && (a.x += i.rect.x, a.y += i.rect.y), s.setTransform(1, 0, 0, 1, -a.x, -a.y), s.drawImage(r, 0, 0), s.getImageData(0, 0, 1, 1).data[3] > 0) return i
            }
            return null
        }, n
    }(e.DisplayObject);
    e.Bitmap = t
}(annie || (annie = {}));
var annie;
! function (e) {
    var t = function (t) {
        function n() {
            t.call(this), this._command = [], this.hitTestWidthPixel = !0, this.beginRadialGradientFill = function (e, t, i) {
                this._fill(n.getGradientColor(e, t, i))
            }, this.beginRadialGradientStroke = function (e, t, i, a, r, o, s) {
                void 0 === a && (a = 1), void 0 === r && (r = "butt"), void 0 === o && (o = "miter"), void 0 === s && (s = 10), this._stroke(n.getGradientColor(e, t, i), a, r, o, s)
            }, this.decodePath = function (e) {
                for (var t, i = this, a = ["moveTo", "lineTo", "quadraticCurveTo", "bezierCurveTo", "closePath"], r = [2, 2, 4, 6, 0], o = 0, s = e.length, l = 0, c = 0, u = n.BASE_64; s > o;) {
                    var d = e.charAt(o),
                        h = u[d],
                        p = h >> 3,
                        f = a[p];
                    if (!f || 3 & h) throw "bad path data (@" + o + "): " + d;
                    var _ = r[p];
                    p || (l = c = 0), t = [], o++;
                    for (var v = (h >> 2 & 1) + 2, m = 0; _ > m; m++) {
                        var y = u[e.charAt(o)],
                            g = y >> 5 ? -1 : 1;
                        y = (31 & y) << 6 | u[e.charAt(o + 1)], 3 == v && (y = y << 6 | u[e.charAt(o + 2)]), y = g * y / 10, m % 2 ? l = y += l : c = y += c, t[m] = y, o += v
                    }
                    i.addDraw(f, t)
                }
            }, this._instanceType = "annie.Shape"
        }
        return __extends(n, t), n.getGradientColor = function (t, n, i) {
            var a, r = e.DisplayObject._canvas.getContext("2d");
            a = 4 == i.length ? r.createLinearGradient(i[0], i[1], i[2], i[3]) : r.createRadialGradient(i[0], i[1], i[2], i[3], i[4], i[5]);
            for (var o = 0, s = t.length; s > o; o++) a.addColorStop(n[o], t[o]);
            return a
        }, n.getBitmapStyle = function (t) {
            var n = e.DisplayObject._canvas.getContext("2d");
            return n.createPattern(t, "repeat")
        }, n.getRGBA = function (e, t) {
            if (0 == e.indexOf("0x") && (e = e.replace("0x", "#")), e.length < 7 && (e = "#000000"), 1 != t) {
                var n = parseInt("0x" + e.substr(1, 2)),
                    i = parseInt("0x" + e.substr(3, 2)),
                    a = parseInt("0x" + e.substr(5, 2));
                e = "rgba(" + n + "," + i + "," + a + "," + t + ")"
            }
            return e
        }, n.prototype.addDraw = function (e, t) {
            var n = this;
            n._isNeedUpdate = !0, n._command.push([1, e, t])
        }, n.prototype.drawRoundRect = function (e, t, n, i, a, r, o, s) {
            void 0 === a && (a = 0), void 0 === r && (r = 0), void 0 === o && (o = 0), void 0 === s && (s = 0);
            var l = (i > n ? n : i) / 2,
                c = 0,
                u = 0,
                d = 0,
                h = 0;
            0 > a && (a *= c = -1), a > l && (a = l), 0 > r && (r *= u = -1), r > l && (r = l), 0 > s && (s *= d = -1), s > l && (s = l), 0 > o && (o *= h = -1), o > l && (o = l);
            var p = this._command;
            p.push([1, "moveTo", [e + n - r, t]]), p.push([1, "arcTo", [e + n + r * u, t - r * u, e + n, t + r, r]]), p.push([1, "lineTo", [e + n, t + i - s]]), p.push([1, "arcTo", [e + n + s * d, t + i + s * d, e + n - s, t + i, s]]), p.push([1, "lineTo", [e + o, t + i]]), p.push([1, "arcTo", [e - o * h, t + i + o * h, e, t + i - o, o]]), p.push([1, "lineTo", [e, t + a]]), p.push([1, "arcTo", [e - a * c, t - a * c, e + a, t, a]]), p.push([1, "closePath", []])
        }, n.prototype.moveTo = function (e, t) {
            this._command.push([1, "moveTo", [e, t]])
        }, n.prototype.lineTo = function (e, t) {
            this._command.push([1, "lineTo", [e, t]])
        }, n.prototype.arcTo = function (e, t) {
            this._command.push([1, "arcTo", [e, t]])
        }, n.prototype.quadraticCurveTo = function (e, t, n, i) {
            this._command.push([1, "quadraticCurveTo", [e, t, n, i]])
        }, n.prototype.bezierCurveTo = function (e, t, n, i, a, r) {
            this._command.push([1, "bezierCurveTo", [e, t, n, i, a, r]])
        }, n.prototype.closePath = function () {
            this._command.push([1, "closePath", []])
        }, n.prototype.drawRect = function (e, t, n, i) {
            var a = this._command;
            a.push([1, "moveTo", [e, t]]), a.push([1, "lineTo", [e + n, t]]), a.push([1, "lineTo", [e + n, t + i]]), a.push([1, "lineTo", [e, t + i]]), a.push([1, "closePath", []])
        }, n.prototype.drawArc = function (e, t, n, i, a) {
            this._command.push([1, "arc", [e, t, n, i / 180 * Math.PI, a / 180 * Math.PI]])
        }, n.prototype.drawCircle = function (e, t, n) {
            this._command.push([1, "arc", [e, t, n, 0, 2 * Math.PI]])
        }, n.prototype.drawEllipse = function (e, t, n, i) {
            var a = .5522848,
                r = n / 2 * a,
                o = i / 2 * a,
                s = e + n,
                l = t + i,
                c = e + n / 2,
                u = t + i / 2,
                d = this._command;
            d.push([1, "moveTo", [e, u]]), d.push([1, "bezierCurveTo", [e, u - o, c - r, t, c, t]]), d.push([1, "bezierCurveTo", [c + r, t, s, u - o, s, u]]), d.push([1, "bezierCurveTo", [s, u + o, c + r, l, c, l]]), d.push([1, "bezierCurveTo", [c - r, l, e, u + o, e, u]])
        }, n.prototype.clear = function () {
            var e = this;
            e._command = [], e._isNeedUpdate = !0, e._cacheImg && (e._cacheImg.width = 0, e._cacheImg.height = 0), e._cacheX = 0, e._cacheY = 0, e._bounds.width = 0, e._bounds.height = 0
        }, n.prototype.beginFill = function (e) {
            this._fill(e)
        }, n.prototype.beginLinearGradientFill = function (e, t, i) {
            this._fill(n.getGradientColor(e, t, i))
        }, n.prototype.beginBitmapFill = function (e, t) {
            var i = this;
            t && (i._isBitmapFill = t), i._fill(n.getBitmapStyle(e))
        }, n.prototype._fill = function (e) {
            var t = this._command;
            t.push([0, "fillStyle", e]), t.push([1, "beginPath", []]), this._isNeedUpdate = !0
        }, n.prototype.beginStroke = function (e, t, n, i, a) {
            void 0 === t && (t = 1), void 0 === n && (n = ""), void 0 === i && (i = ""), void 0 === a && (a = 0), this._stroke(e, t, n, i, a)
        }, n.prototype.beginLinearGradientStroke = function (e, t, i, a, r, o, s) {
            void 0 === a && (a = 1), void 0 === r && (r = "butt"), void 0 === o && (o = "miter"), void 0 === s && (s = 10), this._stroke(n.getGradientColor(e, t, i), a, r, o, s)
        }, n.prototype.beginBitmapStroke = function (e, t, i, a, r, o) {
            void 0 === i && (i = 1), void 0 === a && (a = "butt"), void 0 === r && (r = "miter"), void 0 === o && (o = 10);
            var s = this;
            t && (s._isBitmapStroke = t), s._stroke(n.getBitmapStyle(e), i, a, r, o)
        }, n.prototype._stroke = function (e, t, n, i, a) {
            var r = this._command;
            r.push([0, "lineWidth", t]), r.push([0, "lineCap", n]), r.push([0, "lineJoin", i]), r.push([0, "miterLimit", a]), r.push([0, "strokeStyle", e]), r.push([1, "beginPath", []]), this._isNeedUpdate = !0
        }, n.prototype.endFill = function () {
            var e = this,
                t = e._command,
                n = e._isBitmapFill;
            n && t.push([2, "setTransform", [n.a, n.b, n.c, n.d, n.tx, n.ty]]), t.push([1, "fill", []]), n && (e._isBitmapFill = null)
        }, n.prototype.endStroke = function () {
            var e = this,
                t = e._command,
                n = e._isBitmapStroke;
            n && t.push([2, "setTransform", [n.a, n.b, n.c, n.d, n.tx, n.ty]]), t.push([1, "stroke", []]), n && (e._isBitmapStroke = null)
        }, n.prototype.render = function (e) {
            var t = this;
            t._updateInfo.UM || e.draw(t, 1)
        }, n.prototype.update = function (n, i, a) {
            var r = this;
            if (t.prototype.update.call(this, n, i, a), r._isNeedUpdate || a || r._updateInfo.UF) {
                var o = r._command.length,
                    s = void 0,
                    l = void 0,
                    c = void 0,
                    u = void 0,
                    d = void 0;
                if (o > 0) {
                    var h = void 0,
                        p = 0,
                        f = 0,
                        _ = 0;
                    for (d = 0; o > d; d++)
                        if (h = r._command[d], 1 == h[0]) {
                            if ("moveTo" == h[1] || "lineTo" == h[1] || "arcTo" == h[1] || "bezierCurveTo" == h[1]) void 0 == s && (s = h[2][0]), void 0 == l && (l = h[2][1]), void 0 == c && (c = h[2][0]), void 0 == u && (u = h[2][1]), "bezierCurveTo" == h[1] ? (s = Math.min(s, h[2][0], h[2][2], h[2][4]), l = Math.min(l, h[2][1], h[2][3], h[2][5]), c = Math.max(c, h[2][0], h[2][2], h[2][4]), u = Math.max(u, h[2][1], h[2][3], h[2][5]), p = h[2][4], f = h[2][5]) : (s = Math.min(s, h[2][0]), l = Math.min(l, h[2][1]), c = Math.max(c, h[2][0]), u = Math.max(u, h[2][1]), p = h[2][0], f = h[2][1]);
                            else if ("quadraticCurveTo" == h[1]) {
                                var v = .5 * (p + h[2][0]),
                                    m = .5 * (p + h[2][1]),
                                    y = .5 * (h[2][0] + h[2][2]),
                                    g = .5 * (h[2][1] + h[2][3]);
                                void 0 == s && (s = v), void 0 == l && (l = m), void 0 == c && (c = v), void 0 == u && (u = m), s = Math.min(s, v, y, h[2][2]), l = Math.min(l, m, g, h[2][3]), c = Math.max(c, v, y, h[2][2]), u = Math.max(u, m, g, h[2][3]), p = h[2][2], f = h[2][3]
                            } else if ("arc" == h[1]) {
                                var b = h[2][0],
                                    x = h[2][1],
                                    w = h[2][2],
                                    E = b - w,
                                    F = x - w,
                                    T = b + w,
                                    M = x + w;
                                void 0 == s && (s = E), void 0 == l && (l = F), void 0 == c && (c = T), void 0 == u && (u = M), s = Math.min(s, E), l = Math.min(l, F), c = Math.max(c, T), u = Math.max(u, M)
                            }
                        } else "lineWidth" == h[1] && _ < h[2] && (_ = h[2]);
                    if (void 0 != s || _ > 0) {
                        void 0 == s && (s = 0, l = 0), s -= 20 + _ >> 1, l -= 20 + _ >> 1, c += 20 + _ >> 1, u += 20 + _ >> 1;
                        var C = c - s,
                            L = u - l;
                        r._cacheX = s, r._cacheY = l, r._bounds.width = C - 10, r._bounds.height = L - 10, r._cacheImg || (r._cacheImg = window.document.createElement("canvas"));
                        var I = r._cacheImg,
                            P = I.getContext("2d");
                        I.width = C, I.height = L, I.style.width = C / e.devicePixelRatio + "px", I.style.height = L / e.devicePixelRatio + "px", P.clearRect(0, 0, C, L), P.setTransform(1, 0, 0, 1, -s, -l);
                        var O = r.cFilters,
                            S = O.length;
                        if (S > 0) {
                            for (var R = 0; S > R; R++)
                                if ("Shadow" == r.cFilters[R].type) {
                                    P.shadowBlur += O[R].blur, P.shadowColor += O[R].color, P.shadowOffsetX += O[R].offsetX, P.shadowOffsetY += O[R].offsetY;
                                    break
                                }
                        } else P.shadowBlur = 0, P.shadowColor = "#0", P.shadowOffsetX = 0, P.shadowOffsetY = 0;
                        r._drawShape(P);
                        var D = r.cFilters.length;
                        if (D > 0) {
                            for (var U = P.getImageData(0, 0, C, L), k = 0; D > k; k++) {
                                var A = r.cFilters[k];
                                A.drawFilter(U)
                            }
                            P.putImageData(U, 0, 0)
                        }
                    }
                }
                r._isNeedUpdate = !1
            }
            r._updateInfo.UM = !1, r._updateInfo.UA = !1, r._updateInfo.UF = !1
        }, n.prototype._drawShape = function (e, t) {
            void 0 === t && (t = !1);
            for (var n, i = this, a = i._command, r = a.length, o = i._cacheX, s = i._cacheY, l = 0; r > l; l++)
                if (n = a[l], n[0] > 0) {
                    var c = n[2].length;
                    if (0 == c) e[n[1]]();
                    else if (2 == c) e[n[1]](n[2][0], n[2][1]);
                    else if (4 == c) e[n[1]](n[2][0], n[2][1], n[2][2], n[2][3]);
                    else if (5 == c) e[n[1]](n[2][0], n[2][1], n[2][2], n[2][3], n[2][4]);
                    else if (6 == c) {
                        var u = n[2][4],
                            d = n[2][5];
                        2 == n[0] && (u -= o, d -= s), e[n[1]](n[2][0], n[2][1], n[2][2], n[2][3], u, d)
                    }
                } else t || (e[n[1]] = n[2])
        }, n.prototype.getBounds = function () {
            return this._bounds
        }, n.prototype.hitTestPoint = function (t, n) {
            void 0 === n && (n = !1);
            var i = this;
            if (n && !i.mouseEnable) return null;
            var a = i.globalToLocal(t);
            if (a.x -= i._cacheX, a.y -= i._cacheY, i.getBounds().isPointIn(a)) {
                if (!i.hitTestWidthPixel) return i;
                var r = i._cacheImg;
                if (!r || 0 == r.width || 0 == r.height) return null;
                var o = e.DisplayObject._canvas;
                o.width = 1, o.height = 1;
                var s = o.getContext("2d");
                if (s.clearRect(0, 0, 1, 1), s.setTransform(1, 0, 0, 1, -a.x, -a.y), s.drawImage(r, 0, 0), s.getImageData(0, 0, 1, 1).data[3] > 0) return i
            }
            return null
        }, n.prototype.changeColor = function (e) {
            for (var t = this, n = t._command.length, i = t._command, a = 0; n > a; a++) 0 == i[a][0] && ("fillStyle" == i[a][1] && e.fillColor && i[a][2] != e.fillColor && (i[a][2] = e.fillColor, t._isNeedUpdate = !0), "strokeStyle" == i[a][1] && e.strokeColor && i[a][2] != e.strokeColor && (i[a][2] = e.strokeColor, t._isNeedUpdate = !0), "lineWidth" == i[a][1] && e.lineWidth && i[a][2] != e.lineWidth && (i[a][2] = e.lineWidth, t._isNeedUpdate = !0))
        }, n.BASE_64 = {
            A: 0,
            B: 1,
            C: 2,
            D: 3,
            E: 4,
            F: 5,
            G: 6,
            H: 7,
            I: 8,
            J: 9,
            K: 10,
            L: 11,
            M: 12,
            N: 13,
            O: 14,
            P: 15,
            Q: 16,
            R: 17,
            S: 18,
            T: 19,
            U: 20,
            V: 21,
            W: 22,
            X: 23,
            Y: 24,
            Z: 25,
            a: 26,
            b: 27,
            c: 28,
            d: 29,
            e: 30,
            f: 31,
            g: 32,
            h: 33,
            i: 34,
            j: 35,
            k: 36,
            l: 37,
            m: 38,
            n: 39,
            o: 40,
            p: 41,
            q: 42,
            r: 43,
            s: 44,
            t: 45,
            u: 46,
            v: 47,
            w: 48,
            x: 49,
            y: 50,
            z: 51,
            0: 52,
            1: 53,
            2: 54,
            3: 55,
            4: 56,
            5: 57,
            6: 58,
            7: 59,
            8: 60,
            9: 61,
            "+": 62,
            "/": 63
        }, n
    }(e.DisplayObject);
    e.Shape = t
}(annie || (annie = {}));
var annie;
! function (e) {
    var t = function (t) {
        function n() {
            t.call(this), this.mouseChildren = !0, this.children = [], this._instanceType = "annie.Sprite"
        }
        return __extends(n, t), n.prototype.addChild = function (e) {
            this.addChildAt(e, this.children.length)
        }, n.prototype.removeChild = function (e) {
            for (var t = this, n = t.children.length, i = 0; n > i; i++)
                if (t.children[i] == e) {
                    t.removeChildAt(i);
                    break
                }
        }, n._getElementsByName = function (e, t, i, a, r) {
            var o = t.children.length;
            if (o > 0)
                for (var s, l = void 0, c = 0; o > c; c++) {
                    if (l = t.children[c], s = l.name, s && "" != s && e.test(s) && (r.push(l), i)) return;
                    a && null != l.children && n._getElementsByName(e, l, i, a, r)
                }
        }, n.prototype.getChildByName = function (e, t, i) {
            if (void 0 === t && (t = !0), void 0 === i && (i = !1), !e) return null;
            var a, r = this;
            a = "string" == typeof e ? new RegExp("^" + e + "$") : e;
            var o = [];
            n._getElementsByName(a, r, t, i, o);
            var s = o.length;
            return 0 == s ? null : 1 == s ? o[0] : o
        }, n.prototype.addChildAt = function (e, t) {
            if (e) {
                var n, i = this,
                    a = i == e.parent;
                if (e.parent)
                    if (a) {
                        n = i.children.length;
                        for (var r = 0; n > r; r++)
                            if (i.children[r] == e) {
                                i.children.splice(r, 1);
                                break
                            }
                    } else e.parent.removeChild(e);
                e.parent = i, n = i.children.length, t >= n ? i.children.push(e) : 0 == t ? i.children.unshift(e) : i.children.splice(t, 0, e), i.stage && !a && (e._cp = !0, e._onDispatchBubbledEvent("onAddToStage"))
            }
        }, n.prototype.getChildAt = function (e) {
            return this.children.length - 1 >= e ? this.children[e] : null
        }, n.prototype.getChildIndex = function (e) {
            for (var t = this.children.length, n = 0; t > n; n++)
                if (this.children[n] == e) return n;
            return -1
        }, n.prototype._onDispatchBubbledEvent = function (e, n) {
            void 0 === n && (n = !1);
            var i = this,
                a = i.children.length;
            i.stage = i.parent.stage;
            for (var r = 0; a > r; r++) i.children[r]._onDispatchBubbledEvent(e, n);
            t.prototype._onDispatchBubbledEvent.call(this, e, n)
        }, n.prototype.removeChildAt = function (e) {
            var t, n = this,
                i = n.children.length - 1;
            0 > i || (t = e == i ? n.children.pop() : 0 == e ? n.children.shift() : n.children.splice(e, 1)[0], t._onDispatchBubbledEvent("onRemoveToStage"), t.parent = null)
        }, n.prototype.removeAllChildren = function () {
            for (var e = this, t = e.children.length, n = t - 1; n >= 0; n--) e.removeChildAt(0)
        }, n.prototype.update = function (e, n, i) {
            var a = this;
            t.prototype.update.call(this, e, n, i), a._updateInfo.UM && (e = !0), a._updateInfo.UA && (n = !0), a._updateInfo.UF && (i = !0);
            for (var r, o = a.children.length, s = [], l = o - 1; l >= 0; l--) r = a.children[l], r.mask && s.indexOf(r.mask.instanceId) < 0 && (r.mask.parent = a, a.totalFrames && r.mask.totalFrames ? (r.mask.gotoAndStop(a.currentFrame), r.mask.update(!0)) : r.mask.update(e), s.push(r.mask.instanceId)), r.update(e, n, i);
            a._updateInfo.UM = !1, a._updateInfo.UA = !1, a._updateInfo.UF = !1
        }, n.prototype.hitTestPoint = function (e, t) {
            void 0 === t && (t = !1);
            var n = this;
            if (!n._visible) return null;
            if (t && !n.mouseEnable) return null;
            for (var i, a, r = n.children.length, o = r - 1; o >= 0; o--)
                if (a = n.children[o], (!a.mask || a.mask.hitTestPoint(e, t)) && (i = a.hitTestPoint(e, t))) return i;
            return null
        }, n.prototype.getBounds = function () {
            var t, n = this,
                i = n.children.length;
            if (0 == i) t = new e.Rectangle;
            else {
                t = n.children[0].getDrawRect();
                for (var a = 1; i > a; a++) t = e.Rectangle.createFromRects(t, n.children[a].getDrawRect())
            }
            return t
        }, n.prototype.render = function (e) {
            var t = this;
            if (!t._cp && t.cAlpha > 0 && t._visible) {
                for (var n = void 0, i = void 0, a = t.children.length, r = 0; a > r; r++) i = t.children[r], i.cAlpha > 0 && i._visible && (n ? i.mask ? i.mask != n && (e.endMask(), n = i.mask, e.beginMask(n)) : (e.endMask(), n = null) : i.mask && (n = i.mask, e.beginMask(n)), i.render(e));
                n && e.endMask()
            }
        }, n
    }(e.DisplayObject);
    e.Sprite = t
}(annie || (annie = {}));
var annie;
! function (e) {
    var t = function (e) {
        function t(t, n) {
            e.call(this), this.media = null, this.type = "", this._loop = 0;
            var i = this;
            i._instanceType = "annie.Media", "string" == typeof t ? (i.media = document.createElement(n), i.media.src = t) : i.media = t, i._SBWeixin = i._weixinSB.bind(i), i.media.addEventListener("ended", function () {
                i._loop--, i._loop > 0 ? i.play(0, i._loop) : i.media.pause(), i.dispatchEvent("onPlayEnd")
            }.bind(i)), i.type = n.toLocaleUpperCase(), i.media.addEventListener("timeupdate", function () {
                i.dispatchEvent("onPlayUpdate", {
                    currentTime: i.media.currentTime
                })
            }), i.media.addEventListener("play", function () {
                i.dispatchEvent("onPlayStart")
            })
        }
        return __extends(t, e), t.prototype.play = function (e, t) {
            void 0 === e && (e = 0), void 0 === t && (t = 1);
            var n = this;
            n._loop = t;
            try {
                n.media.currentTime = e
            } catch (i) {
                trace(i)
            }
            var a = window;
            if (a.WeixinJSBridge) try {
                a.WeixinJSBridge.invoke("getNetworkType", {}, n._SBWeixin)
            } catch (i) {
                n.media.play()
            } else n.media.play()
        }, t.prototype._weixinSB = function () {
            this.media.play()
        }, t.prototype.stop = function () {
            this.media.pause(), this.media.currentTime = 0
        }, t.prototype.pause = function (e) {
            void 0 === e && (e = !0), e ? this.media.pause() : this.media.play()
        }, Object.defineProperty(t.prototype, "volume", {
            get: function () {
                return this.media.volume
            }, set: function (e) {
                this.media.volume = e
            }, enumerable: !0,
            configurable: !0
        }), t
    }(e.EventDispatcher);
    e.Media = t
}(annie || (annie = {}));
var annie;
! function (e) {
    var t = function (e) {
        function t(t) {
            e.call(this, t, "Audio"), this._instanceType = "annie.Sound"
        }
        return __extends(t, e), t
    }(e.Media);
    e.Sound = t
}(annie || (annie = {}));
var annie;
! function (e) {
    var t = function (e) {
        function t(t, n, i) {
            void 0 === n && (n = 0), void 0 === i && (i = 0), e.call(this, t, "Video");
            var a = this;
            a._instanceType = "annie.Video", a.media.setAttribute("playsinline", "true"), a.media.setAttribute("webkit-playsinline", "true"), a.media.setAttribute("x-webkit-airplay", "true"), a.media.setAttribute("x5-video-player-type", "h5"), a.media.poster = "", a.media.preload = "auto", a.media.controls = !1, n && i && (a.media.width = n, a.media.height = i)
        }
        return __extends(t, e), t
    }(e.Media);
    e.Video = t
}(annie || (annie = {}));
var annie;
! function (e) {
    var t = function (t) {
        function n(n) {
            t.call(this), this.src = "", this._lastSrc = "", this._needBufferFrame = 0, this._currentLoadIndex = 0, this.currentFrame = 0, this.currentBitmap = null, this.totalsFrame = 1, this.rect = null, this.loop = !1, this._isLoaded = !1, this.canPlay = !1, this.isPlaying = !0, this.autoplay = !1;
            var i = this;
            i._instanceType = "annie.ImageFrames", i.src = n, i.rect = new e.Rectangle, i.list = [], i._urlLoader = new e.URLLoader, i._urlLoader.addEventListener(e.Event.COMPLETE, i.success.bind(i))
        }
        return __extends(n, t), n.prototype.success = function (e) {
            var t = this;
            if ("json" == e.data.type) {
                t._configInfo = {};
                for (var n in e.data.response) t._configInfo[n] = e.data.response[n];
                t._startTime = Date.now(), t._urlLoader.responseType = "image", t.loadImage()
            } else if (t.list.push(e.data.response), t._currentLoadIndex = t.list.length, t._currentLoadIndex == t._configInfo.totalsPage) t.canPlay || (t.canPlay = !0), t._isLoaded = !0,
                t.dispatchEvent("onload");
            else {
                t.loadImage();
                var i = t._currentLoadIndex * t._configInfo.pageCount;
                if (i > 30) {
                    if (0 == t._needBufferFrame) {
                        var a = Date.now(),
                            r = a - t._startTime;
                        1e3 > r ? t._needBufferFrame = 60 : 1500 > r ? t._needBufferFrame = 90 : 2e3 > r ? t._needBufferFrame = 120 : 2500 > r ? t._needBufferFrame = 150 : t._needBufferFrame = 180
                    }
                    i >= t._needBufferFrame && !t.canPlay && (t.canPlay = !0, t.dispatchEvent("oncanplay"))
                }
            }
        }, n.prototype.update = function () {
            var e = this;
            if (e.canPlay && e.autoplay) {
                if (e.currentFrame == e._configInfo.totalsFrame) e.currentFrame = 0, e.loop || (e.autoplay = !1, e.isPlaying = !1), e.dispatchEvent("onPlayEnd");
                else if (e.currentFrame < e._currentLoadIndex * e._configInfo.pageCount - 1 || e._isLoaded) {
                    var t = Math.floor(e.currentFrame / e._configInfo.pageCount),
                        n = e.currentFrame % e._configInfo.pageCount,
                        i = Math.floor(n / e._configInfo.rowCount),
                        a = n % e._configInfo.rowCount;
                    e.rect.x = a * (e._configInfo.dis + e._configInfo.width) + e._configInfo.dis, e.rect.y = i * (e._configInfo.dis + e._configInfo.height) + e._configInfo.dis, e.rect.width = e._configInfo.width, e.rect.height = e._configInfo.height, e.currentBitmap = e.list[t], e.currentFrame++, e.isPlaying || (e.isPlaying = !0)
                } else e.canPlay = !1, e.isPlaying = !1;
                e.dispatchEvent("onPlayUpdate", {
                    currentTime: e._currentLoadIndex
                })
            }
            e.checkChange()
        }, n.prototype.checkChange = function () {
            var e = this;
            e._lastSrc != e.src && ("" != e.src ? (e._urlLoader.responseType = "json", e._urlLoader.load(e.src + "/config.json"), e.canPlay = !1, e._currentLoadIndex = 0, e.currentFrame = 0, e._needBufferFrame = 0, e._isLoaded = !1, e._lastSrc = e.src) : e.clear())
        }, n.prototype.loadImage = function () {
            var e = this;
            e._urlLoader.load(e.src + "/" + e._configInfo.name + e._currentLoadIndex + e._configInfo.type)
        }, n.prototype.play = function () {
            this.autoplay = !0
        }, n.prototype.pause = function () {
            this.autoplay = !1
        }, n.prototype.clear = function () {
            var e = this;
            e._urlLoader.loadCancel(), e.list = [], e.src = "", e._lastSrc = ""
        }, n
    }(e.EventDispatcher);
    e.ImageFrames = t
}(annie || (annie = {}));
var annie;
! function (e) {
    var t = function () {
            function e() {
                var e = this;
                e.frameChildList = new Array, e.keyIndex = 0, e.eventName = "", e.soundName = "", e.soundScene = "", e.soundTimes = 1
            }
            return e.prototype.setDisplayInfo = function (e, t, n) {
                void 0 === t && (t = null), void 0 === n && (n = null);
                var i = this,
                    a = {
                        display: e,
                        x: 0,
                        y: 0,
                        scaleX: 1,
                        scaleY: 1,
                        rotation: 0,
                        skewX: 0,
                        skewY: 0,
                        alpha: 1
                    };
                Flash2x.d(a, t, n), i.frameChildList.push(a)
            }, e.prototype.setGraphicInfo = function (e, t, n) {
                var i = this,
                    a = i.frameChildList.length - 1;
                i.frameChildList[a].graphicInfo = {
                    loopType: e,
                    firstFrame: t,
                    parentFrameIndex: n
                }
            }, e
        }(),
        n = function (n) {
            function i() {
                n.call(this), this._timeline = [], this.floatView = new e.Sprite, this.currentFrame = 1, this.isPlaying = !0, this.isFront = !0, this.totalFrames = 1, this._scriptLayer = [], this._labelFrame = {}, this._frameLabel = {}, this._isNeedUpdateChildren = !0, this._isUpdateFrame = !1, this._goFrame = 1, this._mouseEvent = function (e) {
                    var t = this,
                        n = 2;
                    "onMouseDown" == e.type ? t.currentFrame > 2 && (n = 3) : n = 1, t.gotoAndStop(n)
                };
                var t = this;
                t._instanceType = "annie.MovieClip", t.addChild(t.floatView)
            }
            return __extends(i, n), i.prototype.stop = function () {
                var e = this;
                e.isPlaying = !1
            }, i.prototype.as = function (e, t) {
                var n = this;
                n._scriptLayer[t] = e
            }, i.prototype.addFrameScript = function (e, t) {
                var n = this;
                n.as(t, e)
            }, i.prototype.removeFrameScript = function (e) {
                var t = this;
                t._scriptLayer[e] && (t._scriptLayer[e] = null)
            }, i.prototype.a = function () {
                var e = this;
                return e._currentLayer = [], e._timeline.unshift(e._currentLayer), e
            }, i.prototype.b = function (e) {
                var n = this;
                n._currentLayerFrame = new t, n._currentLayerFrame.keyIndex = n._currentLayer.length;
                for (var i = 0; e > i; i++) n._currentLayer.push(n._currentLayerFrame);
                return n.totalFrames < n._currentLayer.length && (n.totalFrames = n._currentLayer.length), n
            }, i.prototype.c = function (e, t, n) {
                void 0 === t && (t = null), void 0 === n && (n = null);
                var i = this;
                return i._currentLayerFrame.setDisplayInfo(e, t, n), i
            }, i.prototype.g = function (e, t, n) {
                var i = this;
                return i._currentLayerFrame.setGraphicInfo(e, t, n), i
            }, i.prototype.setGraphicInfo = function (e) {
                var t = this;
                t._graphicInfo = e
            }, i.prototype.initButton = function () {
                var e = this;
                e.mouseChildren = !1, e.totalFrames > 1 && (e._scriptLayer[0] = function () {
                    e.stop()
                }, e.addEventListener("onMouseDown", this._mouseEvent.bind(this)), e.addEventListener("onMouseUp", this._mouseEvent.bind(this)), e.addEventListener("onMouseOut", this._mouseEvent.bind(this)))
            }, i.prototype.d = function (e, t) {
                var n = this;
                return n._labelFrame[e] = t + 1, n._frameLabel[t + 1] = e, n
            }, i.prototype.getCurrentLabel = function () {
                var e = this;
                return e._frameLabel[e.currentFrame] ? e._frameLabel[e.currentFrame] : ""
            }, i.prototype.e = function (e) {
                var t = this;
                return t._currentLayerFrame.eventName = e, t
            }, i.prototype.f = function (e, t, n) {
                var i = this;
                return i._currentLayerFrame.soundName = t, i._currentLayerFrame.soundScene = e, i._currentLayerFrame.soundTimes = n, i
            }, i.prototype.nextFrame = function () {
                var e = this;
                e._goFrame < e.totalFrames && (e._goFrame++, e._isNeedUpdateChildren = !0), e.isPlaying = !1, e._isUpdateFrame = !1
            }, i.prototype.prevFrame = function () {
                var e = this;
                e._goFrame > 1 && (e._goFrame--, e._isNeedUpdateChildren = !0), e.isPlaying = !1, e._isUpdateFrame = !1
            }, i.prototype.gotoAndStop = function (e) {
                var t = this;
                t.isPlaying = !1;
                var n;
                "string" == typeof e ? void 0 != t._labelFrame[e] ? n = t._labelFrame[e] : trace("未找到帧标签叫'" + e + "'的帧") : "number" == typeof e && (e > t.totalFrames && (e = t.totalFrames), 1 > e && (e = 1), n = e), t._goFrame != n && (t._goFrame = n, t._isNeedUpdateChildren = !0, t._isUpdateFrame = !1)
            }, i.prototype.play = function (e) {
                void 0 === e && (e = !0);
                var t = this;
                t.isPlaying = !0, void 0 == e ? t.isFront = !0 : t.isFront = e, t._isUpdateFrame = !0
            }, i.prototype.gotoAndPlay = function (e, t) {
                void 0 === t && (t = !0);
                var n = this;
                void 0 == t ? n.isFront = !0 : n.isFront = t, n.isPlaying = !0;
                var i;
                "string" == typeof e ? void 0 != n._labelFrame[e] ? i = n._labelFrame[e] : trace("未找到帧标签叫'" + e + "'的帧") : "number" == typeof e && (e > n.totalFrames && (e = n.totalFrames), 1 > e && (e = 1), i = e), n._goFrame != i && (n._goFrame = i, n._isUpdateFrame = !1, n._isNeedUpdateChildren = !0)
            }, i.prototype.setFrameChild = function (e, t) {
                e._donotUpdateinMC = e._donotUpdateinMC || {};
                for (var n in t) null != t[n] ? e._donotUpdateinMC[n] = t[n] : delete e._donotUpdateinMC[t[n]]
            }, i.prototype.update = function (t, i, a) {
                var r = this;
                if (r._graphicInfo) {
                    var o = r.parent.currentFrame ? r.parent.currentFrame : 1,
                        s = 1,
                        l = r._graphicInfo.parentFrameIndex + 1,
                        c = r._graphicInfo.firstFrame + 1;
                    "play once" == r._graphicInfo.loopType ? o - l >= 0 && (s = o - l + c, s > r.totalFrames && (s = r.totalFrames)) : "loop" == r._graphicInfo.loopType ? (o - l >= 0 && (s = (o - l + c) % r.totalFrames), 0 == s && (s = r.totalFrames)) : s = c, r._goFrame != s && (r._goFrame = s, r._isNeedUpdateChildren = !0), r.isPlaying = !1
                } else r.isPlaying && r._isUpdateFrame && (r.isFront ? (r._goFrame++, r._goFrame > r.totalFrames && (r._goFrame = 1)) : (r._goFrame--, r._goFrame < 1 && (r._goFrame = r.totalFrames)), r._isNeedUpdateChildren = !0);
                var u = r.currentFrame = r._goFrame;
                if (r._isUpdateFrame = !0, r._isNeedUpdateChildren) {
                    var d = -1,
                        h = r._timeline.length,
                        p = 0,
                        f = null,
                        _ = null,
                        v = null,
                        m = 0,
                        y = r.children,
                        g = void 0,
                        b = [];
                    for (g = 0; g < r.children.length - 1; g++) y[g].parent = null;
                    for (r.children = [], g = 0; h > g; g++)
                        if (p = r._timeline[g].length, p >= u) {
                            if (f = r._timeline[g][u - 1], void 0 == f) continue;
                            if (f.keyIndex == u - 1 && ("" != f.soundName && Flash2x.getMediaByName(f.soundScene, f.soundName).play(0, f.soundTimes), "" != f.eventName && r.hasEventListener(e.Event.CALL_FRAME))) {
                                var x = new e.Event(e.Event.CALL_FRAME);
                                x.data = {
                                    frameIndex: u,
                                    frameName: f.eventName
                                }, b.push(x)
                            }
                            m = f.frameChildList.length;
                            for (var w = 0; m > w; w++) {
                                if (v = f.frameChildList[w], _ = v.display, _.x = v.x, _.y = v.y, _.scaleX = v.scaleX, _.scaleY = v.scaleY, _.rotation = v.rotation, _.skewX = v.skewX, _.skewY = v.skewY, _.alpha = v.alpha, v.filters ? _.filters = v.filters : _.filters = null, v.graphicInfo ? _._graphicInfo = v.graphicInfo : _._graphicInfo && (_._graphicInfo = null), void 0 != _._donotUpdateinMC)
                                    for (var E in _._donotUpdateinMC) void 0 != _._donotUpdateinMC[E] && (_[E] = _._donotUpdateinMC[E]);
                                _.parent = r, r.children.push(_), d = y.indexOf(_), 0 > d ? (_._onDispatchBubbledEvent("onAddToStage"), _._cp = !0) : y.splice(d, 1)
                            }
                        }
                    r._isNeedUpdateChildren = !1;
                    var F = y.length;
                    for (g = 0; F > g; g++) y[g].parent || (y[g].parent = r, y[g]._onDispatchBubbledEvent("onRemoveToStage", !0), y[g]._cp = !0, y[g].parent = null);
                    if (r.children.push(r.floatView), (1 == u && !r.isFront || u == r.totalFrames && r.isFront) && r.hasEventListener(e.Event.END_FRAME)) {
                        var T = new e.Event(e.Event.END_FRAME);
                        T.data = {
                            frameIndex: u,
                            frameName: 1 == u ? "firstFrame" : "endFrame"
                        }, b.push(T)
                    }
                    for (F = b.length, g = 0; F > g; g++) r.dispatchEvent(b[g]);
                    void 0 != r._scriptLayer[u - 1] && r._scriptLayer[u - 1]()
                }
                n.prototype.update.call(this, t, i, a)
            }, i.prototype._onDispatchBubbledEvent = function (e, t) {
                if (void 0 === t && (t = !1), n.prototype._onDispatchBubbledEvent.call(this, e), t) {
                    var i = this;
                    i._goFrame = 1, i.currentFrame = 1, i.isPlaying = !0, i.isFront = !0, i._isNeedUpdateChildren = !0, i._isUpdateFrame = !1
                }
            }, i
        }(e.Sprite);
    e.MovieClip = n
}(annie || (annie = {}));
var annie;
! function (e) {
    var t = function (t) {
        function n() {
            t.call(this), this.htmlElement = null, this._isAdded = !1, this._instanceType = "annie.FloatDisplay";
            var n = this;
            n.addEventListener(e.Event.REMOVE_TO_STAGE, function (e) {
                n.htmlElement && (n.htmlElement.style.display = "none")
            }), n.addEventListener(e.Event.ADD_TO_STAGE, function (e) {
                n._isAdded ? n.htmlElement && n.visible && (n.htmlElement.style.display = "block") : (n._isAdded = !0, n.stage.rootDiv.insertBefore(n.htmlElement, n.stage.rootDiv.childNodes[0]))
            })
        }
        return __extends(n, t), n.prototype.init = function (e) {
            var t = this;
            "string" == typeof e ? e = document.getElementById(e) : "annie.Video" == e._instanceType && (e = e.media);
            var n = e.style;
            n.position = "absolute", n.display = "none", n.transformOrigin = n.WebkitTransformOrigin = "0 0 0", t.htmlElement = e
        }, n.prototype.delElement = function () {
            var e = this.htmlElement;
            e && (e.style.display = "none", e.parentNode && e.parentNode.removeChild(e), this._isAdded = !1, this.htmlElement = null)
        }, n.prototype.update = function (n, i, a) {
            var r = this,
                o = r.htmlElement;
            if (o) {
                var s = o.style,
                    l = r._visible;
                if (l)
                    for (var c = r.parent; c;) {
                        if (!c._visible) {
                            l = !1;
                            break
                        }
                        c = c.parent
                    }
                var u = l ? "block" : "none";
                if (u != s.display && (s.display = u), l) {
                    if (t.prototype.update.call(this, n, i, a), n || r._updateInfo.UM) {
                        var d = r.cMatrix,
                            h = e.devicePixelRatio;
                        s.transform = s.webkitTransform = "matrix(" + (d.a / h).toFixed(4) + "," + (d.b / h).toFixed(4) + "," + (d.c / h).toFixed(4) + "," + (d.d / h).toFixed(4) + "," + (d.tx / h).toFixed(4) + "," + (d.ty / h).toFixed(4) + ")"
                    }(i || r._updateInfo.UA) && (s.opacity = r.cAlpha), r._updateInfo.UF = !1, r._updateInfo.UM = !1, r._updateInfo.UA = !1
                }
            }
        }, n.prototype.getBounds = function () {
            return this._bounds
        }, n.prototype.render = function (e) {}, n
    }(e.DisplayObject);
    e.FloatDisplay = t
}(annie || (annie = {}));
var annie;
! function (e) {
    var t = function (t) {
        function n(n, i, a, r) {
            t.call(this), this.video = null, this.videoType = 0;
            var o = this;
            o._instanceType = "annie.VideoPlayer";
            var s = !0;
            if (0 == i)
                if ("android" == e.osType) s = !1;
                else {
                    var l = document.createElement("video");
                    s = "probably" == l.canPlayType('video/mp4; codecs="avc1.42E01E, mp4a.40.2"')
                } else 1 == i && (s = !1);
            s ? o.video = new e.Video(n + ".mp4", 1, 1) : o.video = new e.ImageFrames(n), o.videoType = s ? 1 : 0, o._bounds.width = a, o._bounds.height = r
        }
        return __extends(n, t), n.prototype.update = function (e, n, i) {
            var a = this;
            a.visible && (0 == a.videoType ? (a.video.update(e, n, i), a.rect = this.video.rect, a._cacheImg = a.bitmapData = a.video.currentBitmap) : a._cacheImg = a.bitmapData = a.video.media, t.prototype.update.call(this, e, n, i))
        }, n
    }(e.Bitmap);
    e.VideoPlayer = t
}(annie || (annie = {}));
var annie;
! function (e) {
    var t = function (t) {
        function n() {
            t.call(this), this._textAlign = "left", this._lineHeight = 0, this._lineWidth = 0, this._lineType = "single", this._text = "", this._font = "Arial", this._size = 12, this._color = "#fff", this._italic = !1, this._bold = !1, this._border = !1, this._instanceType = "annie.TextField", this._cacheImg = window.document.createElement("canvas")
        }
        return __extends(n, t), Object.defineProperty(n.prototype, "textAlign", {
            get: function () {
                return this._textAlign
            }, set: function (e) {
                this._setProperty("_textAlign", e, 3)
            }, enumerable: !0,
            configurable: !0
        }), Object.defineProperty(n.prototype, "lineHeight", {
            get: function () {
                return this._lineHeight
            }, set: function (e) {
                this._setProperty("_lineHeight", e, 3)
            }, enumerable: !0,
            configurable: !0
        }), Object.defineProperty(n.prototype, "lineWidth", {
            get: function () {
                return this._lineWidth
            }, set: function (e) {
                this._setProperty("_lineWidth", e, 3)
            }, enumerable: !0,
            configurable: !0
        }), Object.defineProperty(n.prototype, "lineType", {
            get: function () {
                return this._lineType
            }, set: function (e) {
                this._setProperty("_lineType", e, 3)
            }, enumerable: !0,
            configurable: !0
        }), Object.defineProperty(n.prototype, "text", {
            get: function () {
                return this._text
            }, set: function (e) {
                this._setProperty("_text", e, 3)
            }, enumerable: !0,
            configurable: !0
        }), Object.defineProperty(n.prototype, "font", {
            get: function () {
                return this._font
            }, set: function (e) {
                this._setProperty("_font", e, 3)
            }, enumerable: !0,
            configurable: !0
        }), Object.defineProperty(n.prototype, "size", {
            get: function () {
                return this._size
            }, set: function (e) {
                this._setProperty("_size", e, 3)
            }, enumerable: !0,
            configurable: !0
        }), Object.defineProperty(n.prototype, "color", {
            get: function () {
                return this._color
            }, set: function (e) {
                this._setProperty("_color", e, 3)
            }, enumerable: !0,
            configurable: !0
        }), Object.defineProperty(n.prototype, "italic", {
            get: function () {
                return this._italic
            }, set: function (e) {
                this._setProperty("_italic", e, 3)
            }, enumerable: !0,
            configurable: !0
        }), Object.defineProperty(n.prototype, "bold", {
            get: function () {
                return this._bold
            }, set: function (e) {
                this._setProperty("_bold", e, 3)
            }, enumerable: !0,
            configurable: !0
        }), Object.defineProperty(n.prototype, "border", {
            get: function () {
                return this._border
            }, set: function (e) {
                this._setProperty("_border", e, 3)
            }, enumerable: !0,
            configurable: !0
        }), n.prototype._prepContext = function (e) {
            var t = this,
                n = t.size || 12;
            n += "px ", n += t.font, t._bold && (n = "bold " + n), t._italic && (n = "italic " + n), e.font = n, e.textAlign = this._textAlign || "left", e.textBaseline = "top", e.fillStyle = this._color
        }, n.prototype._getMeasuredWidth = function (e) {
            var t = this._cacheImg.getContext("2d"),
                n = t.measureText(e).width;
            return n
        }, n.prototype.render = function (e) {
            e.draw(this, 2)
        }, n.prototype.update = function (n, i, a) {
            t.prototype.update.call(this, n, i, a);
            var r = this;
            if (r._isNeedUpdate || a || r._updateInfo.UF) {
                r._text += "";
                var o = r._cacheImg,
                    s = o.getContext("2d"),
                    l = r._text.toString().split(/(?:\r\n|\r|\n)/),
                    c = [];
                r._prepContext(s);
                var u = void 0;
                if (u = r.lineHeight ? r.lineHeight : 1.2 * r._getMeasuredWidth("M"), r.lineWidth ? r.lineWidth < u && (r.lineWidth = u) : r.lineWidth = 10 * u, r._text.indexOf("\n") < 0 && "single" == r.lineType) {
                    c.push(l[0]);
                    var d = l[0],
                        h = r._getMeasuredWidth(d);
                    if (h > r.lineWidth)
                        for (var p = r._getMeasuredWidth(d[0]), f = d[0], _ = 0, v = d.length, m = 1; v > m; m++) {
                            if (_ = s.measureText(d[m]).width, p += _, p > r.lineWidth) {
                                c[0] = f;
                                break
                            }
                            f += d[m]
                        }
                } else
                    for (var y = 0, g = l.length; g > y; y++) {
                        var d = l[y];
                        if (d) {
                            for (var p = r._getMeasuredWidth(d[0]), f = d[0], _ = 0, v = d.length, m = 1; v > m; m++) _ = s.measureText(d[m]).width, p += _, p > this.lineWidth ? (c.push(f), f = d[m], p = _) : f += d[m];
                            c.push(f)
                        }
                    }
                var b = u * c.length,
                    x = r.lineWidth,
                    w = 0;
                if ("center" == r.textAlign ? w = .5 * x : "right" == r.textAlign && (w = x), o.width = x + 20, o.height = b + 20, o.style.width = o.width / e.devicePixelRatio + "px", o.style.height = o.height / e.devicePixelRatio + "px", s.clearRect(0, 0, o.width, o.width), r.border && (s.beginPath(), s.strokeStyle = "#000", s.lineWidth = 1, s.strokeRect(10.5, 10.5, x, b), s.closePath()), s.setTransform(1, 0, 0, 1, w + 10, 10), r.cFilters.length > 0) {
                    for (var E = r.cFilters, F = E.length, y = 0; F > y; y++)
                        if ("Shadow" == r.cFilters[y].type) {
                            s.shadowBlur = E[y].blur, s.shadowColor = E[y].color, s.shadowOffsetX = E[y].offsetX, s.shadowOffsetY = E[y].offsetY;
                            break
                        }
                } else s.shadowBlur = 0, s.shadowColor = "#0", s.shadowOffsetX = 0, s.shadowOffsetY = 0;
                r._prepContext(s);
                for (var y = 0; y < c.length; y++) s.fillText(c[y], 0, y * u, x);
                var T = r.cFilters.length;
                if (T > 0) {
                    for (var M = s.getImageData(0, 0, x + 20, b + 20), y = 0; T > y; y++) {
                        var C = r.cFilters[y];
                        C.drawFilter(M)
                    }
                    s.putImageData(M, 0, 0)
                }
                r._cacheX = -10, r._cacheY = -10, r._isNeedUpdate = !1, r._bounds.height = b, r._bounds.width = x
            }
            r._updateInfo.UM = !1, r._updateInfo.UA = !1, r._updateInfo.UF = !1
        }, n.prototype.getBounds = function () {
            return this._bounds
        }, n
    }(e.DisplayObject);
    e.TextField = t
}(annie || (annie = {}));
var annie;
! function (e) {
    var t = function (t) {
        function n(n) {
            t.call(this), this.inputType = "singleline", this.isAutoDownKeyBoard = !0;
            var i = null,
                a = this;
            a._instanceType = "annie.InputText", "multiline" != n ? (i = document.createElement("input"), n.indexOf("multiline") >= 0 && (n = "input"), i.type = n) : (i = document.createElement("textarea"), i.style.resize = "none", i.style.overflow = "hidden"), a.inputType = n;
            var r = function () {
                a.isAutoDownKeyBoard && a.htmlElement && a.htmlElement.blur()
            }.bind(a);
            a.addEventListener(e.Event.REMOVE_TO_STAGE, function (t) {
                a.stage.removeEventListener(e.MouseEvent.MOUSE_UP, r)
            }), a.addEventListener(e.Event.ADD_TO_STAGE, function (t) {
                a.stage.addEventListener(e.MouseEvent.MOUSE_UP, r)
            }), a.init(i)
        }
        return __extends(n, t), n.prototype.init = function (e) {
            t.prototype.init.call(this, e);
            var n = this;
            n.htmlElement.style.outline = "none", n.htmlElement.style.borderWidth = "thin", n.htmlElement.style.borderColor = "#000"
        }, n.prototype.initInfo = function (e, t, n, i, a, r, o, s, l) {
            var c = this;
            c.htmlElement.placeholder = e, c.htmlElement.style.width = t + "px", c.htmlElement.style.height = n + "px", c.htmlElement.style.font = r + "px " + o, c.htmlElement.style.color = i, c.htmlElement.style.textAlign = a, c.border = s, "multiLine" == c.inputType && (c.htmlElement.style.lineHeight = l + "px")
        }, Object.defineProperty(n.prototype, "bold", {
            get: function () {
                return "bold" == this.htmlElement.style.fontWeight
            }, set: function (e) {
                var t = this.htmlElement.style;
                e ? t.fontWeight = "bold" : t.fontWeight = "normal"
            }, enumerable: !0,
            configurable: !0
        }), Object.defineProperty(n.prototype, "italic", {
            get: function () {
                return "italic" == this.htmlElement.style.fontStyle
            }, set: function (e) {
                var t = this.htmlElement.style;
                e ? t.fontStyle = "italic" : t.fontStyle = "normal"
            }, enumerable: !0,
            configurable: !0
        }), Object.defineProperty(n.prototype, "color", {
            get: function () {
                return this.htmlElement.style.color
            }, set: function (e) {
                var t = this.htmlElement.style;
                t.color = e
            }, enumerable: !0,
            configurable: !0
        }), Object.defineProperty(n.prototype, "border", {
            get: function () {
                return "none" != this.htmlElement.style.borderStyle
            }, set: function (e) {
                var t = this;
                e ? (t.htmlElement.style.borderStyle = "inset", t.htmlElement.style.backgroundColor = "#fff") : (t.htmlElement.style.borderStyle = "none", t.htmlElement.style.backgroundColor = "transparent")
            }, enumerable: !0,
            configurable: !0
        }), Object.defineProperty(n.prototype, "text", {
            get: function () {
                var e = this;
                return e.htmlElement ? e.htmlElement.value : void 0
            }, set: function (e) {
                var t = this;
                t.htmlElement && (t.htmlElement.value = e)
            }, enumerable: !0,
            configurable: !0
        }), Object.defineProperty(n.prototype, "maxCharacters", {
            get: function () {
                var e = this.htmlElement.getAttribute("maxlength");
                return null === e ? 0 : e
            }, set: function (e) {
                this.htmlElement.setAttribute("maxlength", e)
            }, enumerable: !0,
            configurable: !0
        }), n
    }(e.FloatDisplay);
    e.InputText = t
}(annie || (annie = {}));
var annie;
! function (e) {
    var t = function (t) {
        function n(i, a, r, o, s, l) {
            void 0 === i && (i = "annieEngine"), void 0 === a && (a = 640), void 0 === r && (r = 1040), void 0 === o && (o = 30), void 0 === s && (s = "fixedHeight"), void 0 === l && (l = 0), t.call(this), this.iosTouchendPreventDefault = !0, this.isPreventDefaultEvent = !0, this.rootDiv = null, this.renderObj = null, this.renderType = 0, this.pause = !1, this.viewRect = new e.Rectangle, this.isMultiTouch = !1, this.autoSteering = !1, this.autoResize = !1, this.desWidth = 0, this.desHeight = 0, this.divHeight = 0, this.divWidth = 0, this.bgColor = "", this.scaleMode = "onScale", this._flush = 0, this._currentFlush = 0, this._lastDpList = {}, this._rid = -1, this._uae = !1, this._ml = [], this._mouseDownPoint = {}, this._mouseEventTypes = {
                mousedown: "onMouseDown",
                mouseup: "onMouseUp",
                mousemove: "onMouseMove",
                touchstart: "onMouseDown",
                touchmove: "onMouseMove",
                touchend: "onMouseUp"
            }, this.muliPoints = [], this.onMouseEvent = function (t) {
                var n = this;
                if (n.isMultiTouch && t.targetTouches)
                    if (2 == t.targetTouches.length) {
                        var i = new e.Point(t.targetTouches[0].clientX - t.target.offsetLeft, t.targetTouches[0].clientY - t.target.offsetTop),
                            a = new e.Point(t.targetTouches[1].clientX - t.target.offsetLeft, t.targetTouches[1].clientY - t.target.offsetTop),
                            r = Math.atan2(i.y - a.y, i.x - a.x) / Math.PI * 180,
                            o = e.Point.distance(i, a);
                        if (n.muliPoints.push({
                            p1: i,
                            p2: a,
                            angle: r,
                            dis: o
                        }), n.muliPoints.length >= 2) {
                            n._touchEvent || (n._touchEvent = new e.TouchEvent(e.TouchEvent.ON_MULTI_TOUCH), n._touchEvent.target = n);
                            var s = n.muliPoints.length;
                            n._touchEvent.rotate = 2 * (n.muliPoints[s - 1].angle - n.muliPoints[s - 2].angle), n._touchEvent.scale = (n.muliPoints[s - 1].dis - n.muliPoints[s - 2].dis) / (n.divHeight > n.divWidth ? n.desWidth : n.desHeight) * 4, n._touchEvent.clientPoint1.x = n.muliPoints[s - 1].p1.x * e.devicePixelRatio, n._touchEvent.clientPoint2.x = n.muliPoints[s - 1].p2.x * e.devicePixelRatio, n._touchEvent.clientPoint1.y = n.muliPoints[s - 1].p1.y * e.devicePixelRatio, n._touchEvent.clientPoint2.y = n.muliPoints[s - 1].p2.y * e.devicePixelRatio, n.dispatchEvent(n._touchEvent), n.muliPoints = []
                        }
                    } else n.muliPoints = [];
                if (e.EventDispatcher._totalMEC > 0) {
                    var l, c = n._mouseEventTypes[t.type],
                        u = void 0,
                        d = void 0,
                        h = void 0,
                        p = void 0,
                        f = void 0,
                        _ = void 0,
                        v = void 0;
                    "pc" == e.osType ? (t.identifier = "pc", u = [t]) : u = t.changedTouches;
                    for (var m = 0; m < u.length; m++)
                        if (_ = 0, d = [], v = "m" + u[m].identifier, f = new e.Point((u[m].clientX - u[m].target.offsetLeft) * e.devicePixelRatio, (u[m].clientY - u[m].target.offsetTop) * e.devicePixelRatio), h = n.globalToLocal(f, e.DisplayObject._bp), e.EventDispatcher.getMouseEventCount() > 0 && (n._ml[_] ? (l = n._ml[_], l.type = c) : (l = new e.MouseEvent(c), n._ml[_] = l), d.push(l), n._initMouseEvent(l, f, h), _++), "onMouseDown" == c ? n._mouseDownPoint[v] = f : "onMouseUp" == c && e.Point.distance(n._mouseDownPoint[v], f) < 20 && e.EventDispatcher.getMouseEventCount("onMouseClick") > 0 && (n._ml[_] ? (l = n._ml[_], l.type = "onMouseClick") : (l = new e.MouseEvent("onMouseClick"), n._ml[_] = l), d.push(l), n._initMouseEvent(l, f, h), _++), _ > 0) {
                            var y = n.hitTestPoint(f, !0),
                                g = [];
                            if (y)
                                for (; y;) y.mouseChildren === !1 && (g.length = 0), g.push(y), y = y.parent;
                            else g.push(n);
                            var s = g.length;
                            g.reverse();
                            for (var b = 0; s > b; b++) {
                                y = g[b];
                                for (var x = 0; _ > x; x++) d[x]._pd === !1 && y.hasEventListener(d[x].type) && (d[x].currentTarget = y, d[x].target = g[s - 1], p = y.globalToLocal(f, e.DisplayObject._bp), d[x].localX = p.x, d[x].localY = p.y, y.dispatchEvent(d[x]))
                            }
                            if ("onMouseDown" != c && (e.EventDispatcher.getMouseEventCount("onMouseOver") > 0 || e.EventDispatcher.getMouseEventCount("onMouseOut") > 0) && n._lastDpList[v]) {
                                var w = n._lastDpList[v].length,
                                    E = g.length;
                                s = w > E ? w : E;
                                for (var F = !1, T = void 0, M = void 0, b = 1; s > b; b++) F || n._lastDpList[v][b] != g[b] && (F = !0, n._ml[_] ? (T = n._ml[_], T.type = "onMouseOver") : (T = new e.MouseEvent("onMouseOver"), n._ml[_] = T), n._initMouseEvent(T, f, h), _++, n._ml[_] ? (M = n._ml[_], M.type = "onMouseOut") : (M = new e.MouseEvent("onMouseOut"), n._ml[_] = M), n._initMouseEvent(M, f, h)), F && (n._lastDpList[v][b] && M._pd === !1 && (y = n._lastDpList[v][b], y.hasEventListener("onMouseOut") && (M.currentTarget = y, M.target = n._lastDpList[v][w - 1], p = y.globalToLocal(f, e.DisplayObject._bp), M.localX = p.x, M.localY = p.y, y.dispatchEvent(M))), g[b] && T._pd === !1 && (y = g[b], y.hasEventListener("onMouseOver") && (T.currentTarget = y, T.target = g[E - 1], p = y.globalToLocal(f, e.DisplayObject._bp), T.localX = p.x, T.localY = p.y, y.dispatchEvent(T))))
                            }
                            "onMouseUp" == c ? (n._mouseDownPoint[v] = null, n._lastDpList[v] = null, delete n._mouseDownPoint[v], delete n._lastDpList[v]) : n._lastDpList[v] = g
                        }
                }
                n.isPreventDefaultEvent && ("touchend" == t.type && "ios" == e.osType && n.iosTouchendPreventDefault && t.preventDefault(), ("touchmove" == t.type || "touchstart" == t.type && "android" == e.osType) && t.preventDefault()), n._uae && (n.update(), n._uae = !1)
            }, this.setAlign = function () {
                var t = this,
                    n = t.divHeight * e.devicePixelRatio,
                    i = t.divWidth * e.devicePixelRatio,
                    a = t.desHeight,
                    r = t.desWidth,
                    o = n > i,
                    s = a > r,
                    l = 1,
                    c = 1;
                if (t.x = (i - r) / 2, t.y = (n - a) / 2, t.autoSteering && s != o) {
                    var u = n;
                    n = i, i = u
                }
                if ("noScale" != t.scaleMode) switch (l = n / a, c = i / r, t.scaleMode) {
                case "noBorder":
                    c > l ? l = c : c = l;
                    break;
                case "showAll":
                    l > c ? l = c : c = l;
                    break;
                case "fixedWidth":
                    l = c;
                    break;
                case "fixedHeight":
                    c = l
                }
                t.scaleX = c, t.scaleY = l, t.viewRect.x = (r - i / c) / 2, t.viewRect.y = (a - n / l) / 2, t.viewRect.width = r - 2 * t.viewRect.x, t.viewRect.height = a - 2 * t.viewRect.y, t.autoSteering ? s == o ? t.rotation = 0 : a > r ? t.rotation = -90 : t.rotation = 90 : t.rotation = 0
            }, this.resize = function () {
                var e = this,
                    t = e.getRootDivWH(e.rootDiv);
                e._updateInfo.UM = !0, e.divHeight = t.h, e.divWidth = t.w, e.renderObj.reSize(), e.setAlign()
            };
            var c = this;
            this._instanceType = "annie.Stage", c.stage = this;
            var u = "resize";
            c.name = "stageInstance_" + c.instanceId;
            var d = document.getElementById(i);
            c.renderType = l, c.desWidth = a, c.desHeight = r, c.rootDiv = d, c.setFrameRate(o), c.scaleMode = s, c.anchorX = a / 2, c.anchorY = r / 2, 0 == l ? c.renderObj = new e.CanvasRender(c) : trace("noSupport"), c.renderObj.init(), window.addEventListener(u, function (t) {
                clearTimeout(c._rid), c._rid = setTimeout(function () {
                    c.autoResize && c.resize();
                    var t = new e.Event("onResize");
                    c.dispatchEvent(t)
                }, 200)
            }), setTimeout(function () {
                if (c.resize(), n.addUpdateObj(c), e.debug && !n._isLoadedVConsole) {
                    var t = document.createElement("script");
                    t.onload = function () {
                        c.dispatchEvent(new e.Event("onInitStage")), t.onload = null
                    }, document.head.appendChild(t), t.src = "libs/vConsole.min.js"
                } else c.dispatchEvent(new e.Event("onInitStage"))
            }, 100);
            var h = c.renderObj.rootContainer,
                p = c.onMouseEvent.bind(c);
            "pc" != e.osType ? (h.addEventListener("touchstart", p, !1), h.addEventListener("touchmove", p, !1), h.addEventListener("touchend", p, !1)) : (h.addEventListener("mousedown", p, !1), h.addEventListener("mousemove", p, !1), h.addEventListener("mouseup", p, !1))
        }
        return __extends(n, t), n.prototype.update = function () {
            var e = this;
            if (!e.pause) {
                var n = e._updateInfo;
                t.prototype.update.call(this, n.UM, n.UA, n.UF)
            }
        }, n.prototype.render = function (e) {
            var n = this;
            n.pause || (e.begin(), t.prototype.render.call(this, e))
        }, n.prototype._initMouseEvent = function (e, t, n) {
            e._pd = !1, e.clientX = t.x, e.clientY = t.y, e.stageX = n.x, e.stageY = n.y
        }, n.prototype.flush = function () {
            var e = this;
            0 == e._flush ? (e.update(), e.render(e.renderObj)) : 0 == e._currentFlush ? (e.update(), e._currentFlush = e._flush) : (e._currentFlush == e._flush && e.render(e.renderObj), e._currentFlush--)
        }, n.prototype.setFrameRate = function (e) {
            var t = this;
            t._flush = 60 / e - 1 >> 0, t._flush < 0 && (t._flush = 0)
        }, n.prototype.getFrameRate = function () {
            return 60 / (this._flush + 1)
        }, n.prototype.getRootDivWH = function (e) {
            var t = e.style.width,
                n = e.style.height,
                i = document.body.clientWidth,
                a = document.body.clientHeight,
                r = parseInt(t),
                o = parseInt(n);
            return "NaN" == r.toString() ? r = i : t.indexOf("%") > 0 && (r *= i / 100), "NaN" == o.toString() ? o = a : n.indexOf("%") > 0 && (o *= a / 100), {
                w: r,
                h: o
            }
        }, n.prototype.kill = function () {
            n.removeUpdateObj(this)
        }, n.prototype.getBounds = function () {
            return this.viewRect
        }, n.flushAll = function () {
            for (var e = n.allUpdateObjList.length, t = 0; e > t; t++) n.allUpdateObjList[t] && n.allUpdateObjList[t].flush();
            requestAnimationFrame(n.flushAll)
        }, n.addUpdateObj = function (e) {
            for (var t = !1, i = n.allUpdateObjList.length, a = 0; i > a; a++)
                if (n.allUpdateObjList[a] === e) {
                    t = !0;
                    break
                }
            t || n.allUpdateObjList.unshift(e)
        }, n.removeUpdateObj = function (e) {
            for (var t = n.allUpdateObjList.length, i = 0; t > i; i++)
                if (n.allUpdateObjList[i] === e) {
                    n.allUpdateObjList.splice(i, 1);
                    break
                }
        }, n._isLoadedVConsole = !1, n.allUpdateObjList = [], n
    }(e.Sprite);
    e.Stage = t
}(annie || (annie = {}));
var annie;
! function (e) {
    var t = function (e) {
        function t(t, n, i, a) {
            void 0 === t && (t = "black"), void 0 === n && (n = 2), void 0 === i && (i = 2), void 0 === a && (a = 2), e.call(this), this.color = "black", this.offsetX = 2, this.offsetY = 2, this.blur = 2, this.type = "Shadow";
            var r = this;
            r._instanceType = "annie.ShadowFilter", r.offsetX = n, r.offsetY = i, r.blur = a, r.color = t
        }
        return __extends(t, e), t.prototype.toString = function () {
            var e = this;
            return e.type + e.offsetX + e.offsetY + e.blur + e.color
        }, t.prototype.drawFilter = function (e) {
            void 0 === e && (e = null)
        }, t
    }(e.AObject);
    e.ShadowFilter = t;
    var n = function (e) {
        function t(t, n, i, a, r, o, s, l) {
            void 0 === t && (t = 1), void 0 === n && (n = 1), void 0 === i && (i = 1), void 0 === a && (a = 1), void 0 === r && (r = 0), void 0 === o && (o = 0), void 0 === s && (s = 0), void 0 === l && (l = 0), e.call(this), this.redMultiplier = 0, this.redOffset = 0, this.greenMultiplier = 0, this.greenOffset = 0, this.blueMultiplier = 0, this.blueOffset = 0, this.alphaMultiplier = 0, this.alphaOffset = 0, this.type = "Color";
            var c = this;
            c._instanceType = "annie.ColorFilter", c.redMultiplier = t, c.greenMultiplier = n, c.blueMultiplier = i, c.alphaMultiplier = a, c.redOffset = r, c.greenOffset = o, c.blueOffset = s, c.alphaOffset = l
        }
        return __extends(t, e), t.prototype.drawFilter = function (e) {
            if (void 0 === e && (e = null), e)
                for (var t = this, n = e.data, i = n.length, a = 0; i > a; a += 4) n[a] = n[a] * t.redMultiplier + t.redOffset, n[a + 1] = n[a + 1] * t.greenMultiplier + t.greenOffset, n[a + 2] = n[a + 2] * t.blueMultiplier + t.blueOffset, n[a + 3] = n[a + 3] * t.alphaMultiplier + t.alphaOffset
        }, t.prototype.toString = function () {
            var e = this;
            return e.type + e.redMultiplier + e.greenMultiplier + e.blueMultiplier + e.alphaMultiplier + e.redOffset + e.greenOffset + e.blueOffset + e.alphaOffset
        }, t
    }(e.AObject);
    e.ColorFilter = n;
    var i = function (e) {
        function t(n, i, a, r) {
            e.call(this), this.brightness = 0, this.contrast = 0, this.saturation = 0, this.hue = 0, this.type = "ColorMatrix";
            var o = this;
            o._instanceType = "annie.ColorMatrixFilter", o.brightness = n, o.contrast = i, o.saturation = a, o.hue = r, o.colorMatrix = [1, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 1], n = o._cleanValue(n, 255), 0 != n && o._multiplyMatrix([1, 0, 0, 0, n, 0, 1, 0, 0, n, 0, 0, 1, 0, n, 0, 0, 0, 1, 0, 0, 0, 0, 0, 1]), i = this._cleanValue(i, 100);
            var s;
            if (0 != i && (0 > i ? s = 127 + i / 100 * 127 : (s = i % 1, s = 0 == s ? t.DELTA_INDEX[i] : t.DELTA_INDEX[i << 0] * (1 - s) + t.DELTA_INDEX[(i << 0) + 1] * s, s = 127 * s + 127), o._multiplyMatrix([s / 127, 0, 0, 0, .5 * (127 - s), 0, s / 127, 0, 0, .5 * (127 - s), 0, 0, s / 127, 0, .5 * (127 - s), 0, 0, 0, 1, 0, 0, 0, 0, 0, 1])), a = this._cleanValue(a, 100), 0 != a) {
                s = 1 + (a > 0 ? 3 * a / 100 : a / 100);
                var l = .3086,
                    c = .6094,
                    u = .082;
                o._multiplyMatrix([l * (1 - s) + s, c * (1 - s), u * (1 - s), 0, 0, l * (1 - s), c * (1 - s) + s, u * (1 - s), 0, 0, l * (1 - s), c * (1 - s), u * (1 - s) + s, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 1])
            }
            if (r = this._cleanValue(r, 180) / 180 * Math.PI, 0 != r) {
                var d = Math.cos(r),
                    h = Math.sin(r),
                    l = .213,
                    c = .715,
                    u = .072;
                o._multiplyMatrix([l + d * (1 - l) + h * -l, c + d * -c + h * -c, u + d * -u + h * (1 - u), 0, 0, l + d * -l + .143 * h, c + d * (1 - c) + .14 * h, u + d * -u + h * -.283, 0, 0, l + d * -l + h * -(1 - l), c + d * -c + h * c, u + d * (1 - u) + h * u, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 1])
            }
        }
        return __extends(t, e), t.prototype.drawFilter = function (e) {
            if (void 0 === e && (e = null), e)
                for (var t, n, i, a, r = e.data, o = r.length, s = this.colorMatrix, l = s[0], c = s[1], u = s[2], d = s[3], h = s[4], p = s[5], f = s[6], _ = s[7], v = s[8], m = s[9], y = s[10], g = s[11], b = s[12], x = s[13], w = s[14], E = s[15], F = s[16], T = s[17], M = s[18], C = s[19], L = 0; o > L; L += 4) t = r[L], n = r[L + 1], i = r[L + 2], a = r[L + 3], r[L] = t * l + n * c + i * u + a * d + h, r[L + 1] = t * p + n * f + i * _ + a * v + m, r[L + 2] = t * y + n * g + i * b + a * x + w, r[L + 3] = t * E + n * F + i * T + a * M + C
        }, t.prototype._multiplyMatrix = function (e) {
            var t, n, i, a = [];
            for (t = 0; 5 > t; t++) {
                for (n = 0; 5 > n; n++) a[n] = this.colorMatrix[n + 5 * t];
                for (n = 0; 5 > n; n++) {
                    var r = 0;
                    for (i = 0; 5 > i; i++) r += e[n + 5 * i] * a[i];
                    this.colorMatrix[n + 5 * t] = r
                }
            }
        }, t.prototype._cleanValue = function (e, t) {
            return Math.min(t, Math.max(-t, e))
        }, t.prototype.toString = function () {
            var e = this;
            return e.type + e.brightness + e.hue + e.saturation + e.contrast
        }, t.DELTA_INDEX = [0, .01, .02, .04, .05, .06, .07, .08, .1, .11, .12, .14, .15, .16, .17, .18, .2, .21, .22, .24, .25, .27, .28, .3, .32, .34, .36, .38, .4, .42, .44, .46, .48, .5, .53, .56, .59, .62, .65, .68, .71, .74, .77, .8, .83, .86, .89, .92, .95, .98, 1, 1.06, 1.12, 1.18, 1.24, 1.3, 1.36, 1.42, 1.48, 1.54, 1.6, 1.66, 1.72, 1.78, 1.84, 1.9, 1.96, 2, 2.12, 2.25, 2.37, 2.5, 2.62, 2.75, 2.87, 3, 3.2, 3.4, 3.6, 3.8, 4, 4.3, 4.7, 4.9, 5, 5.5, 6, 6.5, 6.8, 7, 7.3, 7.5, 7.8, 8, 8.4, 8.7, 9, 9.4, 9.6, 9.8, 10], t
    }(e.AObject);
    e.ColorMatrixFilter = i;
    var a = function (e) {
        function t(t, n, i) {
            void 0 === t && (t = 2), void 0 === n && (n = 2), void 0 === i && (i = 1), e.call(this), this.type = "blur", this.blurX = 0, this.blurY = 0, this.quality = 1;
            var a = this;
            a._instanceType = "annie.BlurFilter", a.blurX = t > 8 ? 8 : t, a.blurY = n > 8 ? 8 : n, a.quality = i > 3 ? 3 : i
        }
        return __extends(t, e), t.prototype.toString = function () {
            var e = this;
            return e.type + e.blurX + e.blurY + e.quality
        }, t.prototype.drawFilter = function (e) {
            void 0 === e && (e = null);
            var n = this,
                i = n.blurX >> 1;
            if (isNaN(i) || 0 > i) return !1;
            var a = n.blurY >> 1;
            if (isNaN(a) || 0 > a) return !1;
            if (0 == i && 0 == a) return !1;
            var r = n.quality;
            (isNaN(r) || 1 > r) && (r = 1), r |= 0, r > 3 && (r = 3), 1 > r && (r = 1);
            var o = e.data,
                s = 0,
                l = 0,
                c = 0,
                u = 0,
                d = 0,
                h = 0,
                p = 0,
                f = 0,
                _ = 0,
                v = 0,
                m = 0,
                y = 0,
                g = 0,
                b = 0,
                x = 0,
                w = i + i + 1 | 0,
                E = a + a + 1 | 0,
                F = 0 | e.width,
                T = 0 | e.height,
                M = F - 1 | 0,
                C = T - 1 | 0,
                L = i + 1 | 0,
                I = a + 1 | 0,
                P = {
                    r: 0,
                    b: 0,
                    g: 0,
                    a: 0
                },
                O = P;
            for (c = 1; w > c; c++) O = O.n = {
                r: 0,
                b: 0,
                g: 0,
                a: 0
            };
            O.n = P;
            var S = {
                    r: 0,
                    b: 0,
                    g: 0,
                    a: 0
                },
                R = S;
            for (c = 1; E > c; c++) R = R.n = {
                r: 0,
                b: 0,
                g: 0,
                a: 0
            };
            R.n = S;
            for (var D = null, U = 0 | t.MUL_TABLE[i], k = 0 | t.SHG_TABLE[i], A = 0 | t.MUL_TABLE[a], j = 0 | t.SHG_TABLE[a]; r-- > 0;) {
                p = h = 0;
                var N = U,
                    B = k;
                for (l = T; --l > -1;) {
                    for (f = L * (y = o[0 | h]), _ = L * (g = o[h + 1 | 0]), v = L * (b = o[h + 2 | 0]), m = L * (x = o[h + 3 | 0]), O = P, c = L; --c > -1;) O.r = y, O.g = g, O.b = b, O.a = x, O = O.n;
                    for (c = 1; L > c; c++) u = h + ((c > M ? M : c) << 2) | 0, f += O.r = o[u], _ += O.g = o[u + 1], v += O.b = o[u + 2], m += O.a = o[u + 3], O = O.n;
                    for (D = P, s = 0; F > s; s++) o[h++] = f * N >>> B, o[h++] = _ * N >>> B, o[h++] = v * N >>> B, o[h++] = m * N >>> B, u = p + ((u = s + i + 1) < M ? u : M) << 2, f -= D.r - (D.r = o[u]), _ -= D.g - (D.g = o[u + 1]), v -= D.b - (D.b = o[u + 2]), m -= D.a - (D.a = o[u + 3]), D = D.n;
                    p += F
                }
                for (N = A, B = j, s = 0; F > s; s++) {
                    for (h = s << 2 | 0, f = I * (y = o[h]) | 0, _ = I * (g = o[h + 1 | 0]) | 0, v = I * (b = o[h + 2 | 0]) | 0, m = I * (x = o[h + 3 | 0]) | 0, R = S, c = 0; I > c; c++) R.r = y, R.g = g, R.b = b, R.a = x, R = R.n;
                    for (d = F, c = 1; a >= c; c++) h = d + s << 2, f += R.r = o[h], _ += R.g = o[h + 1], v += R.b = o[h + 2], m += R.a = o[h + 3], R = R.n, C > c && (d += F);
                    if (h = s, D = S, r > 0)
                        for (l = 0; T > l; l++) u = h << 2, o[u + 3] = x = m * N >>> B, x > 0 ? (o[u] = f * N >>> B, o[u + 1] = _ * N >>> B,
                            o[u + 2] = v * N >>> B) : o[u] = o[u + 1] = o[u + 2] = 0, u = s + ((u = l + I) < C ? u : C) * F << 2, f -= D.r - (D.r = o[u]), _ -= D.g - (D.g = o[u + 1]), v -= D.b - (D.b = o[u + 2]), m -= D.a - (D.a = o[u + 3]), D = D.n, h += F;
                    else
                        for (l = 0; T > l; l++) u = h << 2, o[u + 3] = x = m * N >>> B, x > 0 ? (x = 255 / x, o[u] = (f * N >>> B) * x, o[u + 1] = (_ * N >>> B) * x, o[u + 2] = (v * N >>> B) * x) : o[u] = o[u + 1] = o[u + 2] = 0, u = s + ((u = l + I) < C ? u : C) * F << 2, f -= D.r - (D.r = o[u]), _ -= D.g - (D.g = o[u + 1]), v -= D.b - (D.b = o[u + 2]), m -= D.a - (D.a = o[u + 3]), D = D.n, h += F
                }
            }
        }, t.SHG_TABLE = [0, 9, 10, 11, 9, 12, 10, 11, 12, 9, 13, 13, 10, 9, 13, 13, 14, 14, 14, 14, 10, 13, 14, 14, 14, 13, 13, 13, 9, 14, 14, 14, 15, 14, 15, 14, 15, 15, 14, 15, 15, 15, 14, 15, 15, 15, 15, 15, 14, 15, 15, 15, 15, 15, 15, 12, 14, 15, 15, 13, 15, 15, 15, 15, 16, 16, 16, 15, 16, 14, 16, 16, 14, 16, 13, 16, 16, 16, 15, 16, 13, 16, 15, 16, 14, 9, 16, 16, 16, 16, 16, 16, 16, 16, 16, 13, 14, 16, 16, 15, 16, 16, 10, 16, 15, 16, 14, 16, 16, 14, 16, 16, 14, 16, 16, 14, 15, 16, 16, 16, 14, 15, 14, 15, 13, 16, 16, 15, 17, 17, 17, 17, 17, 17, 14, 15, 17, 17, 16, 16, 17, 16, 15, 17, 16, 17, 11, 17, 16, 17, 16, 17, 16, 17, 17, 16, 17, 17, 16, 17, 17, 16, 16, 17, 17, 17, 16, 14, 17, 17, 17, 17, 15, 16, 14, 16, 15, 16, 13, 16, 15, 16, 14, 16, 15, 16, 12, 16, 15, 16, 17, 17, 17, 17, 17, 13, 16, 15, 17, 17, 17, 16, 15, 17, 17, 17, 16, 15, 17, 17, 14, 16, 17, 17, 16, 17, 17, 16, 15, 17, 16, 14, 17, 16, 15, 17, 16, 17, 17, 16, 17, 15, 16, 17, 14, 17, 16, 15, 17, 16, 17, 13, 17, 16, 17, 17, 16, 17, 14, 17, 16, 17, 16, 17, 16, 17, 9], t.MUL_TABLE = [1, 171, 205, 293, 57, 373, 79, 137, 241, 27, 391, 357, 41, 19, 283, 265, 497, 469, 443, 421, 25, 191, 365, 349, 335, 161, 155, 149, 9, 278, 269, 261, 505, 245, 475, 231, 449, 437, 213, 415, 405, 395, 193, 377, 369, 361, 353, 345, 169, 331, 325, 319, 313, 307, 301, 37, 145, 285, 281, 69, 271, 267, 263, 259, 509, 501, 493, 243, 479, 118, 465, 459, 113, 446, 55, 435, 429, 423, 209, 413, 51, 403, 199, 393, 97, 3, 379, 375, 371, 367, 363, 359, 355, 351, 347, 43, 85, 337, 333, 165, 327, 323, 5, 317, 157, 311, 77, 305, 303, 75, 297, 294, 73, 289, 287, 71, 141, 279, 277, 275, 68, 135, 67, 133, 33, 262, 260, 129, 511, 507, 503, 499, 495, 491, 61, 121, 481, 477, 237, 235, 467, 232, 115, 457, 227, 451, 7, 445, 221, 439, 218, 433, 215, 427, 425, 211, 419, 417, 207, 411, 409, 203, 202, 401, 399, 396, 197, 49, 389, 387, 385, 383, 95, 189, 47, 187, 93, 185, 23, 183, 91, 181, 45, 179, 89, 177, 11, 175, 87, 173, 345, 343, 341, 339, 337, 21, 167, 83, 331, 329, 327, 163, 81, 323, 321, 319, 159, 79, 315, 313, 39, 155, 309, 307, 153, 305, 303, 151, 75, 299, 149, 37, 295, 147, 73, 291, 145, 289, 287, 143, 285, 71, 141, 281, 35, 279, 139, 69, 275, 137, 273, 17, 271, 135, 269, 267, 133, 265, 33, 263, 131, 261, 130, 259, 129, 257, 1], t
    }(e.AObject);
    e.BlurFilter = a
}(annie || (annie = {}));
var annie;
! function (e) {
    var t = function (t) {
        function n(e) {
            t.call(this), this.rootContainer = null, this._instanceType = "annie.CanvasRender", this._stage = e
        }
        return __extends(n, t), n.prototype.begin = function () {
            var e = this,
                t = e.rootContainer;
            e._ctx.setTransform(1, 0, 0, 1, 0, 0), "" != e._stage.bgColor ? (e._ctx.fillStyle = e._stage.bgColor, e._ctx.fillRect(0, 0, t.width + 1, t.height + 1)) : e._ctx.clearRect(0, 0, t.width + 1, t.height + 1)
        }, n.prototype.beginMask = function (e) {
            var t = this,
                n = !1;
            if (e.children && e.children.length > 0 && (e = e.children[0]), e._command && e._command.length > 0) {
                t._ctx.save(), t._ctx.globalAlpha = 0;
                var i = e.cMatrix;
                t._ctx.setTransform(i.a, i.b, i.c, i.d, i.tx, i.ty), e._drawShape(t._ctx, !0), t._ctx.restore(), n = !0
            }
            t._ctx.save(), n && t._ctx.clip()
        }, n.prototype.endMask = function () {
            this._ctx.restore()
        }, n.prototype.draw = function (e, t) {
            var n = this;
            if (!e._cp) {
                var i = n._ctx;
                i.globalAlpha = e.cAlpha;
                var a = e.cMatrix;
                if (i.setTransform(a.a, a.b, a.c, a.d, a.tx, a.ty), 1 == t) e._drawShape(i);
                else {
                    var r = e._cacheImg;
                    if (r && r.width > 0 && r.height > 0) {
                        var o = e.rect;
                        0 == t && o && !e._isCache ? i.drawImage(r, o.x, o.y, o.width, o.height, 0, 0, o.width, o.height) : (i.translate(e._cacheX, e._cacheY), i.drawImage(r, 0, 0))
                    }
                }
            }
        }, n.prototype.init = function () {
            var e = this;
            e.rootContainer || (e.rootContainer = document.createElement("canvas"), e._stage.rootDiv.appendChild(e.rootContainer));
            var t = e.rootContainer;
            e._ctx = t.getContext("2d")
        }, n.prototype.reSize = function () {
            var t = this,
                n = t.rootContainer;
            n.width = t._stage.divWidth * e.devicePixelRatio, n.height = t._stage.divHeight * e.devicePixelRatio, n.style.width = t._stage.divWidth + "px", n.style.height = t._stage.divHeight + "px"
        }, n
    }(e.AObject);
    e.CanvasRender = t
}(annie || (annie = {}));
var annie;
! function (e) {
    e.Eval = eval.bind(window);
    var t = function (t) {
        function n() {
            t.call(this), this._req = new XMLHttpRequest, this.headers = [], this.responseType = null, this.url = "", this.method = "get", this.data = null, this._fqs = function (e, t) {
                var n = [];
                if (e)
                    for (var i in e) n.push(encodeURIComponent(i) + "=" + encodeURIComponent(e[i]));
                return t && (n = n.concat(t)), n.join("&")
            }, this._fus = function (e, t) {
                var n = this;
                if (null == t || "" == t) return e;
                var i = [],
                    a = e.indexOf("?");
                if (-1 != a) {
                    var r = e.slice(a + 1);
                    return i = i.concat(r.split("&")), e.slice(0, a) + "?" + n._fqs(t, i)
                }
                return e + "?" + n._fqs(t, i)
            }, this._instanceType = "annie.URLLoader"
        }
        return __extends(n, t), n.prototype.loadCancel = function () {
            var e = this;
            e._req && (e._req.abort(), e._req = null)
        }, n.prototype.load = function (t, n) {
            void 0 === n && (n = "form");
            var i = this;
            if (i.loadCancel(), null == i.responseType || "" == i.responseType) {
                var a = t.split("."),
                    r = a[a.length - 1],
                    o = r.split("?")[0].toLocaleLowerCase();
                "mp3" == o || "ogg" == o || "wav" == o ? i.responseType = "sound" : "jpg" == o || "jpeg" == o || "png" == o || "gif" == o ? i.responseType = "image" : "css" == o ? i.responseType = "css" : "mp4" == o ? i.responseType = "video" : "svg" == o ? i.responseType = "svg" : "xml" == o ? i.responseType = "xml" : "json" == o ? i.responseType = "json" : "txt" == o ? i.responseType = "text" : "js" == o || "swf" == o ? i.responseType = "js" : i.responseType = "unKnow"
            }
            i._req || (i._req = new XMLHttpRequest);
            var s = i._req;
            s.withCredentials = !1, s.onprogress = function (e) {
                !e || e.loaded > 0 && 0 == e.total || i.dispatchEvent("onProgress", {
                    loadedBytes: e.loaded,
                    totalBytes: e.total
                })
            }, s.onerror = function (e) {
                if (l++, l > 2) i.dispatchEvent("onError", {
                    id: 2,
                    msg: e.message
                });
                else if (s.abort(), i.data)
                    if ("form" == n) s.setRequestHeader("Content-type", "application/x-www-form-urlencoded;charset=UTF-8"), s.send(i._fqs(i.data, null));
                    else {
                        var t = "application/json";
                        "json" != n && (t = "multipart/form-data"), s.setRequestHeader("Content-type", t + ";charset=UTF-8"), s.send(i.data)
                    } else s.send()
            }, s.onreadystatechange = function (t) {
                var n = t.target;
                if (4 == n.readyState)
                    if (200 == s.status) {
                        var a = !1,
                            r = new e.Event("onComplete"),
                            o = n.response;
                        r.data = {
                            type: i.responseType,
                            response: null
                        };
                        var l = void 0;
                        switch (i.responseType) {
                        case "css":
                            l = document.createElement("link"), l.rel = "stylesheet", l.href = i.url;
                            break;
                        case "image":
                        case "sound":
                        case "video":
                            var c;
                            "image" == i.responseType ? (a = !0, c = document.createElement("img"), c.onload = function () {
                                URL.revokeObjectURL(c.src), c.onload = null, i.dispatchEvent(r)
                            }, c.src = URL.createObjectURL(o), l = c) : "sound" == i.responseType ? (c = document.createElement("AUDIO"), c.preload = !0, c.src = i.url, l = new e.Sound(c)) : "video" == i.responseType && (c = document.createElement("VIDEO"), c.preload = !0, c.src = i.url, l = new e.Video(c));
                            break;
                        case "json":
                            l = JSON.parse(o);
                            break;
                        case "js":
                            l = "JS_CODE", e.Eval(o);
                            break;
                        case "text":
                        case "unKnow":
                        case "xml":
                        default:
                            l = o
                        }
                        r.data.response = l, i.data = null, i.responseType = "", a || i.dispatchEvent(r)
                    } else i.dispatchEvent("onError", {
                        id: 0,
                        msg: "访问地址不存在"
                    })
            };
            var l = 0;
            if (i.data && "get" == i.method.toLocaleLowerCase() ? (i.url = i._fus(t, i.data), i.data = null) : i.url = t, "image" == i.responseType || "sound" == i.responseType || "video" == i.responseType ? s.responseType = "blob" : s.responseType = "text", s.open(i.method, i.url, !0), i.headers.length > 0) {
                for (var c = 0; c < i.headers.length; c += 2) s.setRequestHeader(i.headers[c], i.headers[c + 1]);
                i.headers.length = 0
            }
            if (i.data)
                if ("form" == n) s.setRequestHeader("Content-type", "application/x-www-form-urlencoded;charset=UTF-8"), s.send(i._fqs(i.data, null));
                else {
                    var u = "application/json";
                    "json" != n && (u = "multipart/form-data"), s.setRequestHeader("Content-type", u + ";charset=UTF-8"), s.send(i.data)
                } else s.send()
        }, n.prototype.addHeader = function (e, t) {
            this.headers.push(e, t)
        }, n
    }(e.EventDispatcher);
    e.URLLoader = t
}(annie || (annie = {}));
var Flash2x;
! function (Flash2x) {
    function _loadConfig() {
        _JSONQueue.load(_domain + "resource/" + _loadSceneNames[_loadIndex] + "/" + _loadSceneNames[_loadIndex] + ".res.json?t=" + _time)
    }

    function onCFGComplete(e) {
        var t = e.data.response;
        _currentConfig.push(t), _totalLoadRes += t.length, _loadIndex++, _loadSceneNames[_loadIndex] ? _loadConfig() : (_loadIndex = 0, _loadSinglePer = 1 / _totalLoadRes, _loadRes())
    }

    function _onRESProgress(e) {
        _progressCallback && _progressCallback(100 * (_loadPer + e.data.loadedBytes / e.data.totalBytes * _loadSinglePer) >> 0)
    }

    function _onRESComplete(e) {
        var t = _loadSceneNames[_loadIndex];
        if (Flash2x._isReleased) {
            if ("f2xShare" == t) return _currentConfig.shift(), _loadSceneNames.shift(), void _loadRes();
            var n = Flash2x,
                i = n[t + "Res"];
            for (var a in i) {
                var r;
                i[a].indexOf("audio/") > 0 ? r = new annie.Sound(i[a]) : i[a].indexOf("image/") > 0 ? (r = new Image, r.src = i[a]) : r = JSON.parse(i[a]), Flash2x.res[t][a] = r
            }
            delete n[t + "Res"]
        } else "js" != e.data.type && "css" != e.data.type && (Flash2x.res[t][_currentConfig[_loadIndex][0].id] = e.data.response);
        _checkComplete()
    }

    function _checkComplete() {
        if (_loadedLoadRes++, _loadPer = _loadedLoadRes / _totalLoadRes, _currentConfig[_loadIndex].shift(), _currentConfig[_loadIndex].length > 0) _loadRes();
        else {
            var e = {};
            e.sceneName = _loadSceneNames[_loadIndex], _loadIndex++, e.sceneId = _loadIndex, e.sceneTotal = _loadSceneNames.length, _loadIndex == _loadSceneNames.length ? (_isLoading = !1, _completeCallback(e)) : (_completeCallback(e), _loadRes())
        }
    }

    function _loadRes() {
        var e = _domain + _currentConfig[_loadIndex][0].src;
        Flash2x._isReleased && (_loaderQueue.responseType = "js", e += "?v=" + Flash2x._isReleased), _loaderQueue.load(e)
    }

    function isLoadedScene(e) {
        return void 0 != Flash2x.res[e] && null != Flash2x.res[e]
    }

    function unLoadScene(sceneName) {
        delete Flash2x.res[sceneName];
        var scene = eval(sceneName);
        for (var i in scene) delete scene[i];
        eval(sceneName + "=null;")
    }

    function getMediaByName(e, t) {
        var n = Flash2x.res;
        return n[e][t] ? n[e][t] : null
    }

    function stopAllSounds() {
        for (var e in Flash2x.res)
            if (Flash2x.res[e])
                for (var t in Flash2x.res[e]) "annie.Sounc" == Flash2x.res[e][t].instanceType && Flash2x.res[e][t].stop()
    }

    function b(e, t) {
        var n = Flash2x.res,
            i = !1;
        if (n[e][t]) return new annie.Bitmap(n[e][t]);
        for (var a = 0; n[e]["F2xSSIMG" + a];) {
            var r = n[e]["F2xSSIMGData" + a];
            if (void 0 != r[t]) {
                i = !0;
                var o = r[t],
                    s = n[e]["F2xSSIMG" + a];
                return new annie.Bitmap(s, o)
            }
            a++
        }
        return null
    }

    function d(e, t, n) {
        if (void 0 === t && (t = null), void 0 === n && (n = null), t && (void 0 != t.x && (e.x = t.x), void 0 != t.y && (e.y = t.y), void 0 != t.a && (e.scaleX = t.a), void 0 != t.b && (e.scaleY = t.b), void 0 != t.r && (e.rotation = t.r), void 0 != t.c && (e.skewX = t.c), void 0 != t.d && (e.skewY = t.d), void 0 != t.o && (e.alpha = t.o), void 0 != t.v && (e.visible = t.v)), n && n.length > 0) {
            for (var i = 0, a = []; void 0 != n[i];)
                if (0 == n[i]) a.push(new ColorFilter(n[i + 1], n[i + 2], n[i + 3], n[i + 4], n[i + 5], n[i + 6], n[i + 7], n[i + 8])), i += 9;
                else if (1 == n[i]) a.push(new BlurFilter(n[i + 1], n[i + 2], n[i + 3])), i += 4;
            else if (2 == n[i]) {
                var r = .5 * (n[i + 1] + n[i + 2]),
                    o = Shape.getRGBA(n[i + 4], n[i + 5]),
                    s = n[i + 7] * Math.cos(n[i + 6] / 180 * Math.PI),
                    l = n[i + 7] * Math.sin(n[i + 6] / 180 * Math.PI);
                a.push(new ShadowFilter(o, s, l, r)), i += 8
            } else if (3 == n[i]) {
                var c = .5 * (n[i + 1] + n[i + 2]),
                    o = Shape.getRGBA(n[i + 4], n[i + 5]);
                a.push(new ShadowFilter(o, 0, 0, c)), i += 6
            } else 4 == n[i] && (a.push(new ColorMatrixFilter(n[i + 1], n[i + 2], n[i + 3], n[i + 4])), i += 5);
            e.filters = a
        }
    }

    function t(e, t, n, i, a, r, o, s, l, c, u, d, h, p, f) {
        void 0 === d && (d = !1), void 0 === h && (h = !1), void 0 === p && (p = "single"), void 0 === f && (f = !1);
        var _;
        return 0 == e || 1 == e ? (_ = new annie.TextField, _.text = t, _.font = a, _.size = n, _.lineWidth = s, _.lineHeight = c, _.textAlign = u, _.italic = d, _.bold = h, _.color = i, _.lineType = p, _.border = f) : (_ = new annie.InputText(p), _.initInfo(t, s, l, i, u, n, a, f, c / n), d && (_.italic = !0), h && (_.bold = !0)), _
    }

    function sb(e, t) {
        var n = "_f2x_s" + t;
        if (Flash2x.res[e][n]) return Flash2x.res[e][n];
        var i = null,
            a = b(e, t);
        return a ? (i = a.rect ? annie.Bitmap.convertToImage(a, !1) : a.bitmapData, Flash2x.res[e][n] = i, i) : (trace("error:矢量位图填充时,未找到位图资源!"), null)
    }

    function s(e, t, n) {
        var i = new annie.Shape;
        return t && (0 == t.type ? i.beginFill(t.color) : 1 == t.type ? i.beginRadialGradientFill(t.gradient[0], t.gradient[1], t.points) : 2 == t.type ? i.beginLinearGradientFill(t.gradient[0], t.gradient[1], t.points) : i.beginBitmapFill(sb(t.bitmapScene, t.bitmapName), t.matrix)), n && (0 == n.type ? i.beginStroke(n.color, n.lineWidth, n.caps, n.joints, n.miter) : 1 == n.type ? i.beginRadialGradientStroke(n.gradient[0], n.gradient[1], n.points, n.lineWidth, n.caps, n.joints, n.miter) : 2 == n.type ? i.beginLinearGradientStroke(n.gradient[0], n.gradient[1], n.points, n.lineWidth, n.caps, n.joints, n.miter) : i.beginBitmapStroke(sb(n.bitmapScene, n.bitmapName), n.matrix, n.lineWidth, n.caps, n.joints, n.miter)), 0 == e.type ? i.decodePath(e.data) : i.drawRoundRect(e.data.x, e.data.y, e.data.w, e.data.h, e.data.topLeftRadius, e.data.topRightRadius, e.data.bottomLeftRadius, e.data.bottomRightRadius), t && i.endFill(), n && i.endStroke(), i
    }

    function ajax(e) {
        var t = new URLLoader;
        t.addHeader("X-Requested-With", "XMLHttpRequest"), t.method = void 0 == e.type ? "get" : e.type, t.data = void 0 == e.data ? null : e.data, t.responseType = void 0 == e.responseType ? "text" : e.responseType, void 0 != e.success && t.addEventListener(annie.Event.COMPLETE, e.success), void 0 != e.error && t.addEventListener(annie.Event.ERROR, e.error), t.load(e.url)
    }

    function jsonp(e, t, n, i) {
        var a = window;
        1 == t && (a[n] = i);
        var r = document.createElement("script"),
            o = document.getElementsByTagName("head")[0];
        r.onload = function (e) {
            0 == t && i(a[n]), e.path[0].src = "", a[n] = null, delete a[n], o.removeChild(e.path[0])
        }, o.appendChild(r);
        var s;
        s = e.indexOf("?") > 0 ? "&" : "?", r.src = e + s + "a_n_n_i_e=" + Math.random() + "&callback=" + n
    }

    function getQueryString(e) {
        var t = new RegExp("(^|&)" + e + "=([^&]*)(&|$)", "i"),
            n = window.location.search.substr(1).match(t);
        return null != n ? decodeURIComponent(n[2]) : null
    }
    var URLLoader = annie.URLLoader,
        Event = annie.Event,
        ColorFilter = annie.ColorFilter,
        Shape = annie.Shape,
        BlurFilter = annie.BlurFilter,
        ShadowFilter = annie.ShadowFilter,
        ColorMatrixFilter = annie.ColorMatrixFilter;
    Flash2x._isReleased = !1, Flash2x._shareSceneList = [], Flash2x.res = {};
    var _isLoading, _loadSceneNames, _domain, _loadIndex, _totalLoadRes, _loadedLoadRes, _completeCallback, _progressCallback, _JSONQueue, _loaderQueue, _isInited, _currentConfig, _time, _loadPer, _loadSinglePer;
    Flash2x.loadScene = function (e, t, n, i) {
        if (void 0 === i && (i = ""), _loadSceneNames = [], _domain = i, "string" == typeof e)
            if (isLoadedScene(e)) {
                var a = {};
                a.sceneName = e, a.sceneId = 1, a.sceneTotal = 1, n(a)
            } else Flash2x.res[e] = {}, _loadSceneNames.push(e);
        else
            for (var r = e.length, o = 0, s = 0; r > s; s++)
                if (isLoadedScene(e[s])) {
                    var a = {};
                    a.sceneName = e[s], a.sceneId = ++o, a.sceneTotal = r, n(a)
                } else Flash2x.res[e[s]] = {}, _loadSceneNames.push(e[s]); if (0 != _loadSceneNames.length)
            if (_isInited || (_time = (new Date).getTime(), _JSONQueue = new URLLoader, _JSONQueue.addEventListener(Event.COMPLETE, onCFGComplete), _loaderQueue = new URLLoader, _loaderQueue.addEventListener(Event.COMPLETE, _onRESComplete), _loaderQueue.addEventListener(Event.PROGRESS, _onRESProgress), _isInited = !0), _loadPer = 0, _loadIndex = 0, _totalLoadRes = 0, _loadedLoadRes = 0, _isLoading = !0, _completeCallback = n, _progressCallback = t, _currentConfig = [], Flash2x._isReleased) {
                if (Flash2x._shareSceneList.length > 0 && !isLoadedScene("f2xShare"))
                    for (var s = 0; s < _loadSceneNames.length; s++)
                        if (Flash2x._shareSceneList.indexOf(_loadSceneNames[s]) >= 0) {
                            _loadSceneNames.unshift("f2xShare");
                            break
                        }
                _loadIndex = 0, _totalLoadRes = _loadSceneNames.length, _loadSinglePer = 1 / _totalLoadRes;
                for (var s = 0; _totalLoadRes > s; s++) _currentConfig.push([{
                    src: "src/" + _loadSceneNames[s] + ".swf"
                }]);
                _loadRes()
            } else _loadConfig()
    }, Flash2x.isLoadedScene = isLoadedScene, Flash2x.unLoadScene = unLoadScene, Flash2x.getMediaByName = getMediaByName, Flash2x.stopAllSounds = stopAllSounds, Flash2x.b = b, Flash2x.d = d, Flash2x.t = t, Flash2x.sb = sb, Flash2x.s = s, Flash2x.ajax = ajax, Flash2x.jsonp = jsonp, Flash2x.getQueryString = getQueryString
}(Flash2x || (Flash2x = {}));
var annie;
! function (e) {
    var t = !0,
        n = function (e) {
            function t() {
                e.call(this), this._currentFrame = 0, this._totalFrames = 0, this._isLoop = 0, this._delay = 0, this._isFront = !0, this._cParams = null, this._loop = !1
            }
            return __extends(t, e), t.prototype.init = function (e, t, n, i) {
                if (void 0 === i && (i = !0), 0 >= t || "number" != typeof t) throw new Error("annie.Tween.to()或者annie.Tween.form()方法的第二个参数一定要是大于0的数字");
                var a = this;
                a._currentFrame = 1, a._totalFrames = 60 * t >> 0, a.target = e, a._isTo = i, a._isLoop = 0, a._startData = {}, a._disData = {}, a._delay = 0, a._isFront = !0, a._ease = null, a._update = null, a._cParams = null, a._loop = !1, a._completeFun = null;
                for (var r in n) switch (r) {
                case "useFrame":
                    1 == n[r] && (a._totalFrames = t);
                    break;
                case "yoyo":
                    n[r] === !1 ? a._isLoop = 0 : n[r] === !0 ? a._isLoop = Number.MAX_VALUE : a._isLoop = n[r];
                    break;
                case "delay":
                    n.useFrame ? a._delay = n[r] : a._delay = 60 * n[r] >> 0;
                    break;
                case "ease":
                    a._ease = n[r];
                    break;
                case "onUpdate":
                    a._update = n[r];
                    break;
                case "onComplete":
                    a._completeFun = n[r];
                    break;
                case "completeParams":
                    a._cParams = n[r];
                    break;
                case "loop":
                    a._loop = n[r];
                    break;
                default:
                    "number" == typeof n[r] && (i ? (a._startData[r] = e[r], a._disData[r] = n[r] - e[r]) : (a._startData[r] = n[r], a._disData[r] = e[r] - n[r]))
                }
            }, t.prototype.update = function () {
                var e = this;
                if (e._isFront && e._delay > 0) return void e._delay--;
                var t = e._currentFrame / e._totalFrames;
                e._ease && (t = e._ease(t));
                for (var n in e._disData) e.target[n] = e._startData[n] + e._disData[n] * t;
                e._update && e._update(t);
                var a = e._completeFun,
                    r = e._cParams;
                e._isFront ? (e._currentFrame++, e._currentFrame > e._totalFrames && (e._loop ? e._currentFrame = 1 : e._isLoop > 0 ? (e._isFront = !1, e._currentFrame = e._totalFrames, e._isLoop--) : i.kill(e.instanceId), a && a.apply(null, r))) : (e._currentFrame--, e._currentFrame < 0 && (e._isLoop > 0 ? (e._isFront = !0, e._currentFrame = 1) : i.kill(e.instanceId), a && a.apply(null, r)))
            }, t
        }(e.AObject),
        i = function () {
            function e() {}
            return e.to = function (t, n, i) {
                return e.createTween(t, n, i, !0)
            }, e.from = function (t, n, i) {
                return e.createTween(t, n, i, !1)
            }, e.createTween = function (t, i, a, r) {
                for (var o, s = e._tweenList.length, l = 0; s > l; l++)
                    if (t == e._tweenList[l].target) {
                        o = e._tweenList[l];
                        break
                    }
                return o || (s = e._tweenPool.length, s > 0 ? (o = e._tweenPool[0], e._tweenPool.shift()) : o = new n, e._tweenList.push(o)), o.init(t, i, a, r), o.instanceId
            }, e.killAll = function () {
                for (var t, n = e._tweenList.length, i = 0; n > i; i++) t = e._tweenList[i], t.target = null, t._completeFun = null, t._cParams = null, t._update = null, t._ease = null, t._loop = !1, e._tweenPool.push(t);
                e._tweenList.length = 0
            }, e.kill = function (t) {
                for (var n, i = e._tweenList.length, a = 0; i > a; a++)
                    if (n = e._tweenList[a], n.instanceId == t) {
                        n.target = null, n._completeFun = null, n._cParams = null, n._update = null, n._ease = null, n._loop = null, e._tweenPool.push(n), e._tweenList.splice(a, 1);
                        break
                    }
            }, e.quadraticIn = function (e) {
                return e * e
            }, e.quadraticOut = function (e) {
                return e * (2 - e)
            }, e.quadraticInOut = function (e) {
                return (e *= 2) < 1 ? .5 * e * e : -.5 * (--e * (e - 2) - 1)
            }, e.cubicIn = function (e) {
                return e * e * e
            }, e.cubicOut = function (e) {
                return --e * e * e + 1
            }, e.cubicInOut = function (e) {
                return (e *= 2) < 1 ? .5 * e * e * e : .5 * ((e -= 2) * e * e + 2)
            }, e.quarticIn = function (e) {
                return e * e * e * e
            }, e.quarticOut = function (e) {
                return 1 - --e * e * e * e
            }, e.quarticInOut = function (e) {
                return (e *= 2) < 1 ? .5 * e * e * e * e : -.5 * ((e -= 2) * e * e * e - 2)
            }, e.quinticIn = function (e) {
                return e * e * e * e * e
            }, e.quinticOut = function (e) {
                return --e * e * e * e * e + 1
            }, e.quinticInOut = function (e) {
                return (e *= 2) < 1 ? .5 * e * e * e * e * e : .5 * ((e -= 2) * e * e * e * e + 2)
            }, e.sinusoidalIn = function (e) {
                return 1 - Math.cos(e * Math.PI / 2)
            }, e.sinusoidalOut = function (e) {
                return Math.sin(e * Math.PI / 2)
            }, e.sinusoidalInOut = function (e) {
                return .5 * (1 - Math.cos(Math.PI * e))
            }, e.exponentialIn = function (e) {
                return 0 === e ? 0 : Math.pow(1024, e - 1)
            }, e.exponentialOut = function (e) {
                return 1 === e ? 1 : 1 - Math.pow(2, -10 * e)
            }, e.exponentialInOut = function (e) {
                return 0 === e ? 0 : 1 === e ? 1 : (e *= 2) < 1 ? .5 * Math.pow(1024, e - 1) : .5 * (-Math.pow(2, -10 * (e - 1)) + 2)
            }, e.circularIn = function (e) {
                return 1 - Math.sqrt(1 - e * e)
            }, e.circularOut = function (e) {
                return Math.sqrt(1 - --e * e)
            }, e.circularInOut = function (e) {
                return (e *= 2) < 1 ? -.5 * (Math.sqrt(1 - e * e) - 1) : .5 * (Math.sqrt(1 - (e -= 2) * e) + 1)
            }, e.elasticIn = function (e) {
                return 0 === e ? 0 : 1 === e ? 1 : -Math.pow(2, 10 * (e - 1)) * Math.sin(5 * (e - 1.1) * Math.PI)
            }, e.elasticOut = function (e) {
                return 0 === e ? 0 : 1 === e ? 1 : Math.pow(2, -10 * e) * Math.sin(5 * (e - .1) * Math.PI) + 1
            }, e.elasticInOut = function (e) {
                return 0 === e ? 0 : 1 === e ? 1 : (e *= 2, 1 > e ? -.5 * Math.pow(2, 10 * (e - 1)) * Math.sin(5 * (e - 1.1) * Math.PI) : .5 * Math.pow(2, -10 * (e - 1)) * Math.sin(5 * (e - 1.1) * Math.PI) + 1)
            }, e.backIn = function (e) {
                var t = 1.70158;
                return e * e * ((t + 1) * e - t)
            }, e.backOut = function (e) {
                var t = 1.70158;
                return --e * e * ((t + 1) * e + t) + 1
            }, e.backInOut = function (e) {
                var t = 2.5949095;
                return (e *= 2) < 1 ? .5 * (e * e * ((t + 1) * e - t)) : .5 * ((e -= 2) * e * ((t + 1) * e + t) + 2)
            }, e.bounceIn = function (t) {
                return 1 - e.bounceOut(1 - t)
            }, e.bounceOut = function (e) {
                return 1 / 2.75 > e ? 7.5625 * e * e : 2 / 2.75 > e ? 7.5625 * (e -= 1.5 / 2.75) * e + .75 : 2.5 / 2.75 > e ? 7.5625 * (e -= 2.25 / 2.75) * e + .9375 : 7.5625 * (e -= 2.625 / 2.75) * e + .984375
            }, e.bounceInOut = function (t) {
                return .5 > t ? .5 * e.bounceIn(2 * t) : .5 * e.bounceOut(2 * t - 1) + .5
            }, e.flush = function () {
                if (t)
                    for (var n = e._tweenList.length, i = n - 1; i >= 0; i--) e._tweenList[i] ? e._tweenList[i].update() : e._tweenList.splice(i, 1);
                t = !t
            }, e._tweenPool = [], e._tweenList = [], e
        }();
    e.Tween = i
}(annie || (annie = {}));
var annie;
! function (e) {
    var t = function (e) {
        function t(n, i) {
            void 0 === i && (i = 0), e.call(this), this._currentCount = 0, this._delay = 0, this._frameDelay = 0, this._currentFrameDelay = 0, this._repeatCount = 0, this._running = !1, 0 >= n && (n = 1);
            var a = this;
            a._delay = n, a._frameDelay = Math.ceil(.001 * n * 60), a._repeatCount = i, t._timerList.push(a)
        }
        return __extends(t, e), t.prototype.reset = function () {
            var e = this;
            e._running = !1, e._currentCount = 0, e._currentFrameDelay = 0
        }, t.prototype.start = function () {
            var e = this;
            e._running = !0, e._currentCount == e._repeatCount && (e._currentCount = 0)
        }, t.prototype.stop = function () {
            this._running = !1
        }, Object.defineProperty(t.prototype, "currentCount", {
            get: function () {
                return this._currentCount
            }, enumerable: !0,
            configurable: !0
        }), Object.defineProperty(t.prototype, "delay", {
            get: function () {
                return this._delay
            }, set: function (e) {
                this._delay = e, this._frameDelay = Math.ceil(.001 * e * 60)
            }, enumerable: !0,
            configurable: !0
        }), Object.defineProperty(t.prototype, "repeatCount", {
            get: function () {
                return this._repeatCount
            }, set: function (e) {
                0 > e && (e = 0), this._repeatCount = e
            }, enumerable: !0,
            configurable: !0
        }), Object.defineProperty(t.prototype, "running", {
            get: function () {
                return this._running
            }, enumerable: !0,
            configurable: !0
        }), t.prototype.kill = function () {
            for (var e = t._timerList.length, n = this, i = 0; e > i; i++)
                if (t._timerList[i]._instanceId == n._instanceId) {
                    t._timerList.splice(i, 1);
                    break
                }
        }, t.prototype.update = function () {
            var e = this;
            e._running && (e._currentFrameDelay++, e._currentFrameDelay == e._frameDelay && (e._repeatCount && e._currentCount++, e._currentFrameDelay = 0, e.dispatchEvent("onTimer"), e._repeatCount && e._currentCount == e._repeatCount && (e._running = !1, e.dispatchEvent("onTimerComplete"))))
        }, t.flush = function () {
            for (var e = t._timerList.length, n = e - 1; n >= 0; n--) t._timerList[n] ? t._timerList[n].update() : t._timerList.splice(n, 1)
        }, t._timerList = [], t
    }(e.EventDispatcher);
    e.Timer = t
}(annie || (annie = {}));
var annie;
! function (e) {
    function t(e) {
        window.location.href = e
    }

    function n(e) {
        var t = new XMLHttpRequest;
        t.open("get", e, !0), t.send()
    }
    e.debug = !1, e.version = "1.1.0", e.devicePixelRatio = window.devicePixelRatio ? window.devicePixelRatio : 1, e.osType = function () {
        var e = navigator.userAgent.toLocaleLowerCase(),
            t = /android/,
            n = /iphone|ipod|ipad/;
        return t.test(e) ? "android" : n.test(e) ? "ios" : "pc"
    }(), e.StageScaleMode = {
        EXACT_FIT: "exactFit",
        NO_BORDER: "noBorder",
        NO_SCALE: "noScale",
        SHOW_ALL: "showAll",
        FIXED_WIDTH: "fixedWidth",
        FIXED_HEIGHT: "fixedHeight"
    }, e.navigateToURL = t, e.sendToURL = n;
    var i = null;
    e.toDisplayDataURL = function (t, n, a, r) {
        void 0 === n && (n = null), void 0 === a && (a = null), void 0 === r && (r = ""), i || (i = new e.CanvasRender(null)), i._stage = t, i.rootContainer = e.DisplayObject._canvas;
        var o = {
            p: t.parent,
            x: t.x,
            y: t.y,
            scX: t.scaleX,
            scY: t.scaleY,
            r: t.rotation,
            skX: t.skewX,
            skY: t.skewY
        };
        t.parent = null, t.x = n ? -n.x : 0, t.y = n ? -n.y : 0, t.scaleX = t.scaleY = 1, t.rotation = t.skewX = t.skewY = 0, t.update(!1, !1, !1);
        var s = t.getBounds(),
            l = n ? n.width : s.width,
            c = n ? n.height : s.height;
        return i.rootContainer.width = l, i.rootContainer.height = c, i._ctx = i.rootContainer.getContext("2d"), "" == r ? i._ctx.clearRect(0, 0, l, c) : (i._ctx.fillStyle = r, i._ctx.fillRect(0, 0, l, c)), t.render(i), t.parent = o.p, t.x = o.x, t.y = o.y, t.scaleX = o.scX, t.scaleY = o.scY, t.rotation = o.r, t.skewX = o.skX, t.skewY = o.skY, a || (a = {
            type: "png"
        }), i.rootContainer.toDataURL("image/" + a.type, a.quality)
    }
}(annie || (annie = {}));
var trace = function () {
        for (var e = [], t = 0; t < arguments.length; t++) e[t - 0] = arguments[t];
        for (var n in arguments) console.log(arguments[n])
    },
    globalDispatcher = new annie.EventDispatcher,
    F2xContainer = annie.Sprite,
    F2xMovieClip = annie.MovieClip,
    F2xText = annie.TextField,
    F2xInputText = annie.InputText,
    F2xBitmap = annie.Bitmap,
    F2xShape = annie.Shape;
annie.Stage.addUpdateObj(annie.Tween), annie.Stage.addUpdateObj(annie.Timer), annie.Stage.flushAll();